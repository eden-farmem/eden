gcc -g -Wall -std=gnu11 -D_GNU_SOURCE -I./inc -mssse3 -O3 -DMLX5 -include rte_config.h -march=native -I/usr/local/include -I/usr/include/libnl3 -I/home/ayelam/eden-all/eden/jemalloc/build/include -c rmem/common.c -o rmem/common.o
gcc -g -Wall -std=gnu11 -D_GNU_SOURCE -I./inc -mssse3 -O3 -DMLX5 -include rte_config.h -march=native -I/usr/local/include -I/usr/include/libnl3 -I/home/ayelam/eden-all/eden/jemalloc/build/include -c runtime/kfault.c -o runtime/kfault.o
gcc -g -Wall -std=gnu11 -D_GNU_SOURCE -I./inc -mssse3 -O3 -DMLX5 -include rte_config.h -march=native -I/usr/local/include -I/usr/include/libnl3 -I/home/ayelam/eden-all/eden/jemalloc/build/include -c runtime/sched.c -o runtime/sched.o
gcc -g -Wall -std=gnu11 -D_GNU_SOURCE -I./inc -mssse3 -O3 -DMLX5 -include rte_config.h -march=native -I/usr/local/include -I/usr/include/libnl3 -I/home/ayelam/eden-all/eden/jemalloc/build/include -c runtime/softirq.c -o runtime/softirq.o
gcc -g -Wall -std=gnu11 -D_GNU_SOURCE -I./inc -mssse3 -O3 -DMLX5 -include rte_config.h -march=native -I/usr/local/include -I/usr/include/libnl3 -I/home/ayelam/eden-all/eden/jemalloc/build/include -c runtime/rmem.c -o runtime/rmem.o
gcc -T base/base.ld -no-pie -o iokerneld-noht iokernel/stat-noht.o iokernel/cores-noht.o iokernel/main-noht.o iokernel/tx-noht.o iokernel/dp_clients-noht.o iokernel/dpdk-noht.o iokernel/commands-noht.o iokernel/rx-noht.o iokernel/mempool_completion-noht.o iokernel/control-noht.o libbase.a libnet.a 			\
	-L/usr/local/lib/x86_64-linux-gnu -Wl,--whole-archive -l:librte_common_cpt.a -l:librte_common_dpaax.a -l:librte_common_iavf.a -l:librte_common_octeontx.a -l:librte_common_octeontx2.a -l:librte_common_sfc_efx.a -l:librte_bus_dpaa.a -l:librte_bus_fslmc.a -l:librte_bus_ifpga.a -l:librte_bus_pci.a -l:librte_bus_vdev.a -l:librte_bus_vmbus.a -l:librte_common_mlx5.a -l:librte_common_qat.a -l:librte_mempool_bucket.a -l:librte_mempool_dpaa.a -l:librte_mempool_dpaa2.a -l:librte_mempool_octeontx.a -l:librte_mempool_octeontx2.a -l:librte_mempool_ring.a -l:librte_mempool_stack.a -l:librte_net_af_packet.a -l:librte_net_ark.a -l:librte_net_atlantic.a -l:librte_net_avp.a -l:librte_net_axgbe.a -l:librte_net_bond.a -l:librte_net_bnx2x.a -l:librte_net_bnxt.a -l:librte_net_cxgbe.a -l:librte_net_dpaa.a -l:librte_net_dpaa2.a -l:librte_net_e1000.a -l:librte_net_ena.a -l:librte_net_enetc.a -l:librte_net_enic.a -l:librte_net_failsafe.a -l:librte_net_fm10k.a -l:librte_net_i40e.a -l:librte_net_hinic.a -l:librte_net_hns3.a -l:librte_net_iavf.a -l:librte_net_ice.a -l:librte_net_igc.a -l:librte_net_ipn3ke.a -l:librte_net_ixgbe.a -l:librte_net_kni.a -l:librte_net_liquidio.a -l:librte_net_memif.a -l:librte_net_mlx5.a -l:librte_net_netvsc.a -l:librte_net_nfp.a -l:librte_net_null.a -l:librte_net_octeontx.a -l:librte_net_octeontx2.a -l:librte_net_pcap.a -l:librte_net_pfe.a -l:librte_net_qede.a -l:librte_net_ring.a -l:librte_net_sfc.a -l:librte_net_softnic.a -l:librte_net_tap.a -l:librte_net_thunderx.a -l:librte_net_txgbe.a -l:librte_net_vdev_netvsc.a -l:librte_net_vhost.a -l:librte_net_virtio.a -l:librte_net_vmxnet3.a -l:librte_raw_dpaa2_cmdif.a -l:librte_raw_dpaa2_qdma.a -l:librte_raw_ifpga.a -l:librte_raw_ioat.a -l:librte_raw_ntb.a -l:librte_raw_octeontx2_dma.a -l:librte_raw_octeontx2_ep.a -l:librte_raw_skeleton.a -l:librte_crypto_bcmfs.a -l:librte_crypto_caam_jr.a -l:librte_crypto_ccp.a -l:librte_crypto_dpaa_sec.a -l:librte_crypto_dpaa2_sec.a -l:librte_crypto_nitrox.a -l:librte_crypto_null.a -l:librte_crypto_octeontx.a -l:librte_crypto_octeontx2.a -l:librte_crypto_openssl.a -l:librte_crypto_scheduler.a -l:librte_crypto_virtio.a -l:librte_compress_octeontx.a -l:librte_compress_zlib.a -l:librte_regex_mlx5.a -l:librte_regex_octeontx2.a -l:librte_vdpa_ifc.a -l:librte_vdpa_mlx5.a -l:librte_event_dlb.a -l:librte_event_dlb2.a -l:librte_event_dpaa.a -l:librte_event_dpaa2.a -l:librte_event_octeontx2.a -l:librte_event_opdl.a -l:librte_event_skeleton.a -l:librte_event_sw.a -l:librte_event_dsw.a -l:librte_event_octeontx.a -l:librte_baseband_null.a -l:librte_baseband_turbo_sw.a -l:librte_baseband_fpga_lte_fec.a -l:librte_baseband_fpga_5gnr_fec.a -l:librte_baseband_acc100.a -l:librte_node.a -l:librte_graph.a -l:librte_bpf.a -l:librte_flow_classify.a -l:librte_pipeline.a -l:librte_table.a -l:librte_port.a -l:librte_fib.a -l:librte_ipsec.a -l:librte_vhost.a -l:librte_stack.a -l:librte_security.a -l:librte_sched.a -l:librte_reorder.a -l:librte_rib.a -l:librte_regexdev.a -l:librte_rawdev.a -l:librte_pdump.a -l:librte_power.a -l:librte_member.a -l:librte_lpm.a -l:librte_latencystats.a -l:librte_kni.a -l:librte_jobstats.a -l:librte_ip_frag.a -l:librte_gso.a -l:librte_gro.a -l:librte_eventdev.a -l:librte_efd.a -l:librte_distributor.a -l:librte_cryptodev.a -l:librte_compressdev.a -l:librte_cfgfile.a -l:librte_bitratestats.a -l:librte_bbdev.a -l:librte_acl.a -l:librte_timer.a -l:librte_hash.a -l:librte_metrics.a -l:librte_cmdline.a -l:librte_pci.a -l:librte_ethdev.a -l:librte_meter.a -l:librte_net.a -l:librte_mbuf.a -l:librte_mempool.a -l:librte_rcu.a -l:librte_ring.a -l:librte_eal.a -l:librte_telemetry.a -l:librte_kvargs.a -Wl,--no-whole-archive /usr/lib/gcc/x86_64-linux-gnu/9/../../../x86_64-linux-gnu/librt.so -lmlx5 -lpthread -libverbs -lmlx5 -libverbs -lpthread -lnl-route-3 -lnl-3 -lcrypto -ldl -pthread -lpcap -lelf -lz -Wl,--as-needed -lrte_node -lrte_graph -lrte_bpf -lrte_flow_classify -lrte_pipeline -lrte_table -lrte_port -lrte_fib -lrte_ipsec -lrte_vhost -lrte_stack -lrte_security -lrte_sched -lrte_reorder -lrte_rib -lrte_regexdev -lrte_rawdev -lrte_pdump -lrte_power -lrte_member -lrte_lpm -lrte_latencystats -lrte_kni -lrte_jobstats -lrte_ip_frag -lrte_gso -lrte_gro -lrte_eventdev -lrte_efd -lrte_distributor -lrte_cryptodev -lrte_compressdev -lrte_cfgfile -lrte_bitratestats -lrte_bbdev -lrte_acl -lrte_timer -lrte_hash -lrte_metrics -lrte_cmdline -lrte_pci -lrte_ethdev -lrte_meter -lrte_net -lrte_mbuf -lrte_mempool -lrte_rcu -lrte_ring -lrte_eal -lrte_telemetry -lrte_kvargs -pthread -lm -ldl -lnuma -lfdt -lpcap -lpthread -lm -lnuma -ldl
gcc -T base/base.ld -no-pie -o rcntrl tools/rmserver/rcntrl.o tools/rmserver/rdma.o libbase.a -lpthread -lm -lrdmacm -libverbs
gcc -T base/base.ld -no-pie -o memserver tools/rmserver/memserver.o tools/rmserver/rdma.o libbase.a -lpthread -lm -lrdmacm -libverbs
In file included from rmem/common.c:19:
./inc/runtime/pgfault.h: In function ‘__is_fault_pending_eden’:
./inc/runtime/pgfault.h:105:7: error: ‘to’ undeclared (first use in this function); did you mean ‘tm’?
  105 |     * to be accessed. see if eviction wants to use that information */
      |       ^~
      |       tm
./inc/runtime/pgfault.h:105:7: note: each undeclared identifier is reported only once for each function it appears in
./inc/runtime/pgfault.h:105:9: error: expected ‘;’ before ‘be’
  105 |     * to be accessed. see if eviction wants to use that information */
      |         ^~~
      |         ;
./inc/runtime/pgfault.h:174:20: error: invalid storage class for function ‘__is_fault_pending’
  174 | static inline bool __is_fault_pending(void* address, bool write,
      |                    ^~~~~~~~~~~~~~~~~~
./inc/runtime/pgfault.h: In function ‘__is_fault_pending’:
./inc/runtime/pgfault.h:178:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  178 | {
      | ^
rmem/common.c:22:1: error: parameter ‘rmem_enabled’ is initialized
   22 | bool rmem_enabled = false;
      | ^~~~
rmem/common.c:23:1: error: parameter ‘rmbackend_type’ is initialized
   23 | rmem_backend_t rmbackend_type = RMEM_BACKEND_DEFAULT;
      | ^~~~~~~~~~~~~~
rmem/common.c:24:1: error: parameter ‘local_memory’ is initialized
   24 | uint64_t local_memory = LOCAL_MEMORY_SIZE;
      | ^~~~~~~~
rmem/common.c:25:1: error: parameter ‘eviction_threshold’ is initialized
   25 | double eviction_threshold = EVICTION_THRESHOLD;
      | ^~~~~~
rmem/common.c:26:1: error: parameter ‘evict_batch_size’ is initialized
   26 | int evict_batch_size = 1;
      | ^~~
rmem/common.c:29:8: error: parameter ‘rmbackend’ is initialized
   29 | struct rmem_backend_ops* rmbackend = NULL;
      |        ^~~~~~~~~~~~~~~~
rmem/common.c:30:1: error: parameter ‘userfault_fd’ is initialized
   30 | int userfault_fd = -1;
      | ^~~
rmem/common.c:31:1: error: parameter ‘handlers’ is initialized
   31 | hthread_t** handlers = NULL;
      | ^~~~~~~~~
rmem/common.c:32:1: error: parameter ‘nhandlers’ is initialized
   32 | int nhandlers = 1;
      | ^~~
rmem/common.c:33:1: error: parameter ‘memory_used’ is initialized
   33 | atomic64_t memory_used = ATOMIC_INIT(0);
      | ^~~~~~~~~~
rmem/common.c:36:20: error: storage class specified for parameter ‘rstats_ptr’
   36 | __thread uint64_t* rstats_ptr = NULL;
      |                    ^~~~~~~~~~
rmem/common.c:36:1: error: parameter ‘rstats_ptr’ is initialized
   36 | __thread uint64_t* rstats_ptr = NULL;
      | ^~~~~~~~
rmem/common.c:37:21: error: storage class specified for parameter ‘current_kthread_id’
   37 | __thread pgthread_t current_kthread_id = 0;
      |                     ^~~~~~~~~~~~~~~~~~
rmem/common.c:37:1: error: parameter ‘current_kthread_id’ is initialized
   37 | __thread pgthread_t current_kthread_id = 0;
      | ^~~~~~~~
rmem/common.c:43:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   43 | {
      | ^
rmem/common.c:114:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  114 | {
      | ^
rmem/common.c:141:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  141 | {
      | ^
rmem/common.c:151:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  151 | {
      | ^
In file included from rmem/common.c:19:
./inc/runtime/pgfault.h:174:20: error: old-style parameter declarations in prototyped function definition
  174 | static inline bool __is_fault_pending(void* address, bool write,
      |                    ^~~~~~~~~~~~~~~~~~
rmem/common.c:188: error: expected ‘{’ at end of input
  188 | }
      | 
rmem/common.c:188:1: warning: no return statement in function returning non-void [-Wreturn-type]
  188 | }
      | ^
rmem/common.c: In function ‘__is_fault_pending_eden’:
rmem/common.c:188:1: error: expected declaration or statement at end of input
In file included from runtime/softirq.c:8:
./inc/runtime/pgfault.h: In function ‘__is_fault_pending_eden’:
./inc/runtime/pgfault.h:105:7: error: ‘to’ undeclared (first use in this function); did you mean ‘tm’?
  105 |     * to be accessed. see if eviction wants to use that information */
      |       ^~
      |       tm
./inc/runtime/pgfault.h:105:7: note: each undeclared identifier is reported only once for each function it appears in
./inc/runtime/pgfault.h:105:9: error: expected ‘;’ before ‘be’
  105 |     * to be accessed. see if eviction wants to use that information */
      |         ^~~
      |         ;
./inc/runtime/pgfault.h:174:20: error: invalid storage class for function ‘__is_fault_pending’
  174 | static inline bool __is_fault_pending(void* address, bool write,
      |                    ^~~~~~~~~~~~~~~~~~
./inc/runtime/pgfault.h: In function ‘__is_fault_pending’:
./inc/runtime/pgfault.h:178:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  178 | {
      | ^
In file included from runtime/defs.h:11,
                 from runtime/softirq.c:10:
./inc/base/gen.h:12:1: warning: empty declaration
   12 | struct gen_num {
      | ^~~~~~
./inc/base/gen.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
./inc/base/gen.h:30:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   30 | {
      | ^
./inc/base/gen.h:45:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   45 | {
      | ^
./inc/base/gen.h:59:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   59 | {
      | ^
In file included from runtime/defs.h:12,
                 from runtime/softirq.c:10:
./inc/base/lrpc.h:15:1: warning: empty declaration
   15 | struct lrpc_msg {
      | ^~~~~~
./inc/base/lrpc.h:28:1: warning: empty declaration
   28 | struct lrpc_chan_out {
      | ^~~~~~
./inc/base/lrpc.h:37:13: error: storage class specified for parameter ‘__lrpc_send’
   37 | extern bool __lrpc_send(struct lrpc_chan_out *chan, uint64_t cmd,
      |             ^~~~~~~~~~~
./inc/base/lrpc.h:50:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   50 | {
      | ^
./inc/base/lrpc.h:76:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   76 | {
      | ^
./inc/base/lrpc.h:90:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   90 | {
      | ^
./inc/base/lrpc.h:101:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  101 | {
      | ^
./inc/base/lrpc.h:106:12: error: storage class specified for parameter ‘lrpc_init_out’
  106 | extern int lrpc_init_out(struct lrpc_chan_out *chan, struct lrpc_msg *tbl,
      |            ^~~~~~~~~~~~~
./inc/base/lrpc.h:114:1: warning: empty declaration
  114 | struct lrpc_chan_in {
      | ^~~~~~
./inc/base/lrpc.h:131:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  131 | {
      | ^
./inc/base/lrpc.h:153:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  153 | {
      | ^
./inc/base/lrpc.h:160:12: error: storage class specified for parameter ‘lrpc_init_in’
  160 | extern int lrpc_init_in(struct lrpc_chan_in *chan, struct lrpc_msg *tbl,
      |            ^~~~~~~~~~~~
In file included from runtime/defs.h:15,
                 from runtime/softirq.c:10:
./inc/net/ethernet.h:21:1: warning: empty declaration
   21 | struct eth_addr {
      | ^~~~~~
./inc/net/ethernet.h:28:30: error: storage class specified for parameter ‘eth_addr_broadcast’
   28 | static const struct eth_addr eth_addr_broadcast = ETH_ADDR_BROADCAST;
      |                              ^~~~~~~~~~~~~~~~~~
./inc/net/ethernet.h:28:21: error: parameter ‘eth_addr_broadcast’ is initialized
   28 | static const struct eth_addr eth_addr_broadcast = ETH_ADDR_BROADCAST;
      |                     ^~~~~~~~
./inc/net/ethernet.h:31:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   31 | {
      | ^
./inc/net/ethernet.h:42:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   42 | {
      | ^
./inc/net/ethernet.h:50:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   50 | {
      | ^
./inc/net/ethernet.h:55:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   55 | {
      | ^
./inc/net/ethernet.h:66:1: warning: empty declaration
   66 | struct eth_hdr {
      | ^~~~~~
In file included from ./inc/net/ip.h:37,
                 from runtime/defs.h:16,
                 from runtime/softirq.c:10:
./inc/base/byteorder.h:11:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   11 | {
      | ^
./inc/base/byteorder.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
./inc/base/byteorder.h:33:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   33 | {
      | ^
In file included from runtime/kfault.c:16:
./inc/runtime/pgfault.h: In function ‘__is_fault_pending_eden’:
In file included from runtime/defs.h:16,
                 from runtime/softirq.c:10:
./inc/net/ip.h:52:14: error: storage class specified for parameter ‘ip_addr_to_str’
   52 | extern char *ip_addr_to_str(uint32_t addr, char *str);
      |              ^~~~~~~~~~~~~~
./inc/runtime/pgfault.h:105:7: error: ‘to’ undeclared (first use in this function); did you mean ‘tm’?
  105 |     * to be accessed. see if eviction wants to use that information */
      |       ^~
      |       tm
./inc/runtime/pgfault.h:105:7: note: each undeclared identifier is reported only once for each function it appears in
./inc/runtime/pgfault.h:105:9: error: expected ‘;’ before ‘be’
  105 |     * to be accessed. see if eviction wants to use that information */
      |         ^~~
      |         ;
./inc/net/ip.h:57:1: warning: empty declaration
   57 | struct ip_hdr {
      | ^~~~~~
./inc/runtime/pgfault.h:174:20: error: invalid storage class for function ‘__is_fault_pending’
  174 | static inline bool __is_fault_pending(void* address, bool write,
      |                    ^~~~~~~~~~~~~~~~~~
./inc/runtime/pgfault.h: In function ‘__is_fault_pending’:
./inc/runtime/pgfault.h:178:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  178 | {
      | ^
./inc/net/ip.h:174:1: warning: empty declaration
  174 | struct ip_timestamp {
      | ^~~~~~
./inc/net/ip.h:223:1: warning: empty declaration
  223 | struct ip_pseudo {
      | ^~~~~~
In file included from runtime/kfault.c:17:
./inc/runtime/sync.h:18:1: warning: empty declaration
   18 | struct mutex {
      | ^~~~~~
./inc/runtime/sync.h:24:22: error: storage class specified for parameter ‘mutex_t’
   24 | typedef struct mutex mutex_t;
      |                      ^~~~~~~
./inc/runtime/sync.h:26:28: error: expected declaration specifiers or ‘...’ before ‘mutex_t’
   26 | extern bool mutex_try_lock(mutex_t *m);
      |                            ^~~~~~~
./inc/runtime/sync.h:27:24: error: expected declaration specifiers or ‘...’ before ‘mutex_t’
   27 | extern void mutex_lock(mutex_t *m);
      |                        ^~~~~~~
./inc/runtime/sync.h:28:26: error: expected declaration specifiers or ‘...’ before ‘mutex_t’
   28 | extern void mutex_unlock(mutex_t *m);
      |                          ^~~~~~~
./inc/runtime/sync.h:29:24: error: expected declaration specifiers or ‘...’ before ‘mutex_t’
   29 | extern void mutex_init(mutex_t *m);
      |                        ^~~~~~~
./inc/runtime/sync.h:35:31: error: expected declaration specifiers or ‘...’ before ‘mutex_t’
   35 | static inline bool mutex_held(mutex_t *m)
      |                               ^~~~~~~
./inc/runtime/sync.h:44:38: error: expected declaration specifiers or ‘...’ before ‘mutex_t’
   44 | static inline void assert_mutex_held(mutex_t *m)
      |                                      ^~~~~~~
./inc/runtime/sync.h:54:1: warning: empty declaration
   54 | struct condvar {
      | ^~~~~~
./inc/runtime/sync.h:59:24: error: storage class specified for parameter ‘condvar_t’
   59 | typedef struct condvar condvar_t;
      |                        ^~~~~~~~~
./inc/runtime/sync.h:61:26: error: expected declaration specifiers or ‘...’ before ‘condvar_t’
   61 | extern void condvar_wait(condvar_t *cv, mutex_t *m);
      |                          ^~~~~~~~~
./inc/runtime/sync.h:61:41: error: expected declaration specifiers or ‘...’ before ‘mutex_t’
   61 | extern void condvar_wait(condvar_t *cv, mutex_t *m);
      |                                         ^~~~~~~
./inc/runtime/sync.h:62:28: error: expected declaration specifiers or ‘...’ before ‘condvar_t’
   62 | extern void condvar_signal(condvar_t *cv);
      |                            ^~~~~~~~~
./inc/runtime/sync.h:63:31: error: expected declaration specifiers or ‘...’ before ‘condvar_t’
   63 | extern void condvar_broadcast(condvar_t *cv);
      |                               ^~~~~~~~~
./inc/runtime/sync.h:64:26: error: expected declaration specifiers or ‘...’ before ‘condvar_t’
   64 | extern void condvar_init(condvar_t *cv);
      |                          ^~~~~~~~~
./inc/runtime/sync.h:71:1: warning: empty declaration
   71 | struct waitgroup {
      | ^~~~~~
./inc/runtime/sync.h:77:26: error: storage class specified for parameter ‘waitgroup_t’
   77 | typedef struct waitgroup waitgroup_t;
      |                          ^~~~~~~~~~~
./inc/runtime/sync.h:79:27: error: expected declaration specifiers or ‘...’ before ‘waitgroup_t’
   79 | extern void waitgroup_add(waitgroup_t *wg, int cnt);
      |                           ^~~~~~~~~~~
./inc/runtime/sync.h:80:28: error: expected declaration specifiers or ‘...’ before ‘waitgroup_t’
   80 | extern void waitgroup_wait(waitgroup_t *wg);
      |                            ^~~~~~~~~~~
./inc/runtime/sync.h:81:28: error: expected declaration specifiers or ‘...’ before ‘waitgroup_t’
   81 | extern void waitgroup_init(waitgroup_t *wg);
      |                            ^~~~~~~~~~~
./inc/runtime/sync.h:87:35: error: expected declaration specifiers or ‘...’ before ‘waitgroup_t’
   87 | static inline void waitgroup_done(waitgroup_t *wg)
      |                                   ^~~~~~~~~~~
./inc/runtime/sync.h:102:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  102 | {
      | ^
./inc/runtime/sync.h:114:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  114 | {
      | ^
./inc/runtime/sync.h:128:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  128 | {
      | ^
./inc/runtime/sync.h:138:1: warning: empty declaration
  138 | struct barrier {
      | ^~~~~~
./inc/runtime/sync.h:145:24: error: storage class specified for parameter ‘barrier_t’
  145 | typedef struct barrier barrier_t;
      |                        ^~~~~~~~~
./inc/runtime/sync.h:147:26: error: expected declaration specifiers or ‘...’ before ‘barrier_t’
  147 | extern void barrier_init(barrier_t *b, int count);
      |                          ^~~~~~~~~
./inc/runtime/sync.h:148:26: error: expected declaration specifiers or ‘...’ before ‘barrier_t’
  148 | extern bool barrier_wait(barrier_t *b);
      |                          ^~~~~~~~~
./inc/runtime/sync.h:155:1: warning: empty declaration
  155 | struct rwmutex {
      | ^~~~~~
./inc/runtime/sync.h:163:24: error: storage class specified for parameter ‘rwmutex_t’
  163 | typedef struct rwmutex rwmutex_t;
      |                        ^~~~~~~~~
./inc/runtime/sync.h:165:26: error: expected declaration specifiers or ‘...’ before ‘rwmutex_t’
  165 | extern void rwmutex_init(rwmutex_t *m);
      |                          ^~~~~~~~~
./inc/runtime/sync.h:166:28: error: expected declaration specifiers or ‘...’ before ‘rwmutex_t’
  166 | extern void rwmutex_rdlock(rwmutex_t *m);
      |                            ^~~~~~~~~
./inc/runtime/sync.h:167:28: error: expected declaration specifiers or ‘...’ before ‘rwmutex_t’
  167 | extern void rwmutex_wrlock(rwmutex_t *m);
      |                            ^~~~~~~~~
./inc/runtime/sync.h:168:32: error: expected declaration specifiers or ‘...’ before ‘rwmutex_t’
  168 | extern bool rwmutex_try_rdlock(rwmutex_t *m);
      |                                ^~~~~~~~~
./inc/runtime/sync.h:169:32: error: expected declaration specifiers or ‘...’ before ‘rwmutex_t’
  169 | extern bool rwmutex_try_wrlock(rwmutex_t *m);
      |                                ^~~~~~~~~
./inc/runtime/sync.h:170:28: error: expected declaration specifiers or ‘...’ before ‘rwmutex_t’
  170 | extern void rwmutex_unlock(rwmutex_t *m);
      |                            ^~~~~~~~~
In file included from runtime/defs.h:11,
                 from runtime/kfault.c:19:
./inc/base/gen.h:12:1: warning: empty declaration
   12 | struct gen_num {
      | ^~~~~~
./inc/base/gen.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
./inc/base/gen.h:30:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   30 | {
      | ^
./inc/base/gen.h:45:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   45 | {
      | ^
./inc/base/gen.h:59:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   59 | {
      | ^
In file included from runtime/defs.h:12,
                 from runtime/kfault.c:19:
./inc/base/lrpc.h:15:1: warning: empty declaration
   15 | struct lrpc_msg {
      | ^~~~~~
make: *** [Makefile:246: rmem/common.o] Error 1
./inc/base/lrpc.h:28:1: warning: empty declaration
   28 | struct lrpc_chan_out {
      | ^~~~~~
make: *** Waiting for unfinished jobs....
./inc/base/lrpc.h:37:13: error: storage class specified for parameter ‘__lrpc_send’
   37 | extern bool __lrpc_send(struct lrpc_chan_out *chan, uint64_t cmd,
      |             ^~~~~~~~~~~
./inc/base/lrpc.h:50:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   50 | {
      | ^
./inc/base/lrpc.h:76:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   76 | {
      | ^
./inc/base/lrpc.h:90:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   90 | {
      | ^
./inc/base/lrpc.h:101:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  101 | {
      | ^
In file included from ./inc/iokernel/control.h:10,
                 from runtime/defs.h:17,
                 from runtime/softirq.c:10:
./inc/iokernel/shm.h:22:19: error: storage class specified for parameter ‘shmptr_t’
   22 | typedef uintptr_t shmptr_t;
      |                   ^~~~~~~~
./inc/iokernel/shm.h:27:1: warning: empty declaration
   27 | struct shm_region {
      | ^~~~~~
./inc/base/lrpc.h:106:12: error: storage class specified for parameter ‘lrpc_init_out’
  106 | extern int lrpc_init_out(struct lrpc_chan_out *chan, struct lrpc_msg *tbl,
      |            ^~~~~~~~~~~~~
./inc/iokernel/shm.h:41:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘ptr_to_shmptr’
   41 | ptr_to_shmptr(struct shm_region *r, void *ptr, size_t len)
      | ^~~~~~~~~~~~~
./inc/base/lrpc.h:114:1: warning: empty declaration
  114 | struct lrpc_chan_in {
      | ^~~~~~
./inc/base/lrpc.h:131:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  131 | {
      | ^
./inc/iokernel/shm.h:58:37: error: expected declaration specifiers or ‘...’ before ‘shmptr_t’
   58 | shmptr_to_ptr(struct shm_region *r, shmptr_t shmptr, size_t len)
      |                                     ^~~~~~~~
./inc/iokernel/shm.h:73:2: error: expected specifier-qualifier-list before ‘shmptr_t’
   73 |  shmptr_t next;
      |  ^~~~~~~~
./inc/iokernel/shm.h:71:1: warning: empty declaration
   71 | struct shm_chain {
      | ^~~~~~
./inc/base/lrpc.h:153:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  153 | {
      | ^
In file included from runtime/rmem.c:17:
./inc/runtime/pgfault.h: In function ‘__is_fault_pending_eden’:
./inc/base/lrpc.h:160:12: error: storage class specified for parameter ‘lrpc_init_in’
  160 | extern int lrpc_init_in(struct lrpc_chan_in *chan, struct lrpc_msg *tbl,
      |            ^~~~~~~~~~~~
In file included from ./inc/base/stddef.h:12,
                 from runtime/softirq.c:5:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
./inc/iokernel/shm.h:77:1: note: in expansion of macro ‘BUILD_ASSERT’
   77 | BUILD_ASSERT(sizeof(struct shm_chain) <= CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
In file included from ./inc/iokernel/control.h:10,
                 from runtime/defs.h:17,
                 from runtime/softirq.c:10:
./inc/iokernel/shm.h:89:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   89 | {
      | ^
./inc/runtime/pgfault.h:105:7: error: ‘to’ undeclared (first use in this function); did you mean ‘tm’?
  105 |     * to be accessed. see if eviction wants to use that information */
      |       ^~
      |       tm
./inc/runtime/pgfault.h:105:7: note: each undeclared identifier is reported only once for each function it appears in
In file included from runtime/defs.h:15,
                 from runtime/kfault.c:19:
./inc/net/ethernet.h:21:1: warning: empty declaration
   21 | struct eth_addr {
      | ^~~~~~
./inc/runtime/pgfault.h:105:9: error: expected ‘;’ before ‘be’
  105 |     * to be accessed. see if eviction wants to use that information */
      |         ^~~
      |         ;
./inc/iokernel/shm.h:103:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  103 | {
      | ^
./inc/net/ethernet.h:28:30: error: storage class specified for parameter ‘eth_addr_broadcast’
   28 | static const struct eth_addr eth_addr_broadcast = ETH_ADDR_BROADCAST;
      |                              ^~~~~~~~~~~~~~~~~~
./inc/net/ethernet.h:28:21: error: parameter ‘eth_addr_broadcast’ is initialized
   28 | static const struct eth_addr eth_addr_broadcast = ETH_ADDR_BROADCAST;
      |                     ^~~~~~~~
./inc/net/ethernet.h:31:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   31 | {
      | ^
./inc/iokernel/shm.h:116:2: error: expected specifier-qualifier-list before ‘shmptr_t’
  116 |  shmptr_t  msg_buf;
      |  ^~~~~~~~
./inc/runtime/pgfault.h:174:20: error: invalid storage class for function ‘__is_fault_pending’
  174 | static inline bool __is_fault_pending(void* address, bool write,
      |                    ^~~~~~~~~~~~~~~~~~
./inc/net/ethernet.h:42:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   42 | {
      | ^
./inc/iokernel/shm.h:114:1: warning: empty declaration
  114 | struct queue_spec {
      | ^~~~~~
./inc/net/ethernet.h:50:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   50 | {
      | ^
./inc/iokernel/shm.h:122:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  122 | {
      | ^
./inc/net/ethernet.h:55:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   55 | {
      | ^
./inc/iokernel/shm.h:140:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  140 | {
      | ^
./inc/net/ethernet.h:66:1: warning: empty declaration
   66 | struct eth_hdr {
      | ^~~~~~
./inc/iokernel/shm.h:163:54: error: expected declaration specifiers or ‘...’ before ‘shmptr_t’
  163 | static inline int shm_init_gen(struct shm_region *r, shmptr_t gen_ptr,
      |                                                      ^~~~~~~~
In file included from runtime/defs.h:17,
                 from runtime/softirq.c:10:
./inc/iokernel/control.h:17:1: warning: empty declaration
   17 | struct q_ptrs {
      | ^~~~~~
./inc/iokernel/control.h:29:2: error: expected specifier-qualifier-list before ‘shmptr_t’
   29 |  shmptr_t  q_ptrs;
      |  ^~~~~~~~
./inc/iokernel/control.h:24:1: warning: empty declaration
   24 | struct thread_spec {
      | ^~~~~~
./inc/iokernel/control.h:34:1: warning: empty declaration
   34 | enum {
      | ^~~~
./inc/iokernel/control.h:41:1: warning: empty declaration
   41 | struct sched_spec {
      | ^~~~~~
./inc/iokernel/control.h:52:1: warning: empty declaration
   52 | struct control_hdr {
      | ^~~~~~
In file included from ./inc/net/ip.h:37,
                 from runtime/defs.h:16,
                 from runtime/kfault.c:19:
./inc/base/byteorder.h:11:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   11 | {
      | ^
./inc/base/byteorder.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
./inc/base/byteorder.h:33:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   33 | {
      | ^
./inc/runtime/pgfault.h: In function ‘__is_fault_pending’:
./inc/runtime/pgfault.h:178:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  178 | {
      | ^
In file included from ./inc/net/mbuf.h:16,
                 from ./inc/net/mbufq.h:7,
                 from runtime/defs.h:18,
                 from runtime/softirq.c:10:
./inc/iokernel/queue.h:10:1: warning: empty declaration
   10 | struct rx_net_hdr {
      | ^~~~~~
In file included from runtime/defs.h:16,
                 from runtime/kfault.c:19:
./inc/net/ip.h:52:14: error: storage class specified for parameter ‘ip_addr_to_str’
   52 | extern char *ip_addr_to_str(uint32_t addr, char *str);
      |              ^~~~~~~~~~~~~~
./inc/iokernel/queue.h:20:1: warning: empty declaration
   20 | struct tx_net_hdr {
      | ^~~~~~
./inc/iokernel/queue.h:29:1: warning: empty declaration
   29 | enum {
      | ^~~~
In file included from runtime/defs.h:11,
                 from runtime/rmem.c:19:
./inc/base/gen.h:12:1: warning: empty declaration
   12 | struct gen_num {
      | ^~~~~~
./inc/base/gen.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
./inc/iokernel/queue.h:59:1: warning: empty declaration
   59 | enum {
      | ^~~~
./inc/base/gen.h:30:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   30 | {
      | ^
./inc/iokernel/queue.h:71:1: warning: empty declaration
   71 | enum {
      | ^~~~
./inc/net/ip.h:57:1: warning: empty declaration
   57 | struct ip_hdr {
      | ^~~~~~
./inc/base/gen.h:45:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   45 | {
      | ^
./inc/iokernel/queue.h:82:1: warning: empty declaration
   82 | enum {
      | ^~~~
./inc/base/gen.h:59:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   59 | {
      | ^
In file included from runtime/defs.h:12,
                 from runtime/rmem.c:19:
./inc/base/lrpc.h:15:1: warning: empty declaration
   15 | struct lrpc_msg {
      | ^~~~~~
In file included from ./inc/net/mbufq.h:7,
                 from runtime/defs.h:18,
                 from runtime/softirq.c:10:
./inc/net/mbuf.h:22:1: warning: empty declaration
   22 | struct mbuf {
      | ^~~~~~
./inc/net/ip.h:174:1: warning: empty declaration
  174 | struct ip_timestamp {
      | ^~~~~~
./inc/base/lrpc.h:28:1: warning: empty declaration
   28 | struct lrpc_chan_out {
      | ^~~~~~
./inc/net/mbuf.h:51:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   51 | {
      | ^
./inc/base/lrpc.h:37:13: error: storage class specified for parameter ‘__lrpc_send’
   37 | extern bool __lrpc_send(struct lrpc_chan_out *chan, uint64_t cmd,
      |             ^~~~~~~~~~~
./inc/net/mbuf.h:66:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   66 | {
      | ^
./inc/net/ip.h:223:1: warning: empty declaration
  223 | struct ip_pseudo {
      | ^~~~~~
./inc/base/lrpc.h:50:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   50 | {
      | ^
./inc/net/mbuf.h:80:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   80 | {
      | ^
./inc/net/mbuf.h:92:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   92 | {
      | ^
./inc/base/lrpc.h:76:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   76 | {
      | ^
./inc/net/mbuf.h:107:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  107 | {
      | ^
./inc/base/lrpc.h:90:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   90 | {
      | ^
./inc/base/lrpc.h:101:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  101 | {
      | ^
./inc/net/mbuf.h:122:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  122 | {
      | ^
./inc/base/lrpc.h:106:12: error: storage class specified for parameter ‘lrpc_init_out’
  106 | extern int lrpc_init_out(struct lrpc_chan_out *chan, struct lrpc_msg *tbl,
      |            ^~~~~~~~~~~~~
./inc/net/mbuf.h:134:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  134 | {
      | ^
./inc/base/lrpc.h:114:1: warning: empty declaration
  114 | struct lrpc_chan_in {
      | ^~~~~~
./inc/base/lrpc.h:131:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  131 | {
      | ^
./inc/net/mbuf.h:146:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  146 | {
      | ^
./inc/net/mbuf.h:155:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  155 | {
      | ^
./inc/net/mbuf.h:164:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  164 | {
      | ^
./inc/net/mbuf.h:173:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  173 | {
      | ^
./inc/base/lrpc.h:153:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  153 | {
      | ^
./inc/net/mbuf.h:201:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  201 | {
      | ^
./inc/base/lrpc.h:160:12: error: storage class specified for parameter ‘lrpc_init_in’
  160 | extern int lrpc_init_in(struct lrpc_chan_in *chan, struct lrpc_msg *tbl,
      |            ^~~~~~~~~~~~
./inc/net/mbuf.h:212:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  212 | {
      | ^
./inc/net/mbuf.h:223:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  223 | {
      | ^
./inc/net/mbuf.h:232:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  232 | {
      | ^
./inc/net/mbuf.h:251:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  251 | {
      | ^
In file included from runtime/defs.h:15,
                 from runtime/rmem.c:19:
./inc/net/ethernet.h:21:1: warning: empty declaration
   21 | struct eth_addr {
      | ^~~~~~
./inc/net/ethernet.h:28:30: error: storage class specified for parameter ‘eth_addr_broadcast’
   28 | static const struct eth_addr eth_addr_broadcast = ETH_ADDR_BROADCAST;
      |                              ^~~~~~~~~~~~~~~~~~
./inc/net/mbuf.h:264:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  264 | {
      | ^
./inc/net/ethernet.h:28:21: error: parameter ‘eth_addr_broadcast’ is initialized
   28 | static const struct eth_addr eth_addr_broadcast = ETH_ADDR_BROADCAST;
      |                     ^~~~~~~~
./inc/net/mbuf.h:268:21: error: storage class specified for parameter ‘mbuf_clone’
  268 | extern struct mbuf *mbuf_clone(struct mbuf *dst, struct mbuf *src);
      |                     ^~~~~~~~~~
./inc/net/ethernet.h:31:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   31 | {
      | ^
In file included from runtime/defs.h:18,
                 from runtime/softirq.c:10:
./inc/net/mbufq.h:9:1: warning: empty declaration
    9 | struct mbuf;
      | ^~~~~~
./inc/net/ethernet.h:42:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   42 | {
      | ^
./inc/net/mbufq.h:11:1: warning: empty declaration
   11 | struct mbufq {
      | ^~~~~~
./inc/net/ethernet.h:50:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   50 | {
      | ^
./inc/net/mbufq.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
./inc/net/ethernet.h:55:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   55 | {
      | ^
./inc/net/mbufq.h:38:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   38 | {
      | ^
./inc/net/ethernet.h:66:1: warning: empty declaration
   66 | struct eth_hdr {
      | ^~~~~~
./inc/net/mbufq.h:53:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   53 | {
      | ^
./inc/net/mbufq.h:63:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   63 | {
      | ^
./inc/net/mbufq.h:78:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   78 | {
      | ^
./inc/net/mbufq.h:87:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   87 | {
      | ^
./inc/net/mbufq.h:102:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  102 | {
      | ^
In file included from runtime/defs.h:23,
                 from runtime/softirq.c:10:
./inc/runtime/rcu.h:16:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   16 | {
      | ^
./inc/runtime/rcu.h:25:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   25 | {
      | ^
./inc/runtime/rcu.h:33:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   33 | {
      | ^
./inc/runtime/rcu.h:108:1: warning: empty declaration
  108 | struct rcu_head;
      | ^~~~~~
In file included from ./inc/net/ip.h:37,
                 from runtime/defs.h:16,
                 from runtime/rmem.c:19:
./inc/base/byteorder.h:11:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   11 | {
      | ^
./inc/runtime/rcu.h:109:16: error: storage class specified for parameter ‘rcu_callback_t’
  109 | typedef void (*rcu_callback_t)(struct rcu_head *head);
      |                ^~~~~~~~~~~~~~
./inc/base/byteorder.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
./inc/runtime/rcu.h:113:2: error: expected specifier-qualifier-list before ‘rcu_callback_t’
  113 |  rcu_callback_t func;
      |  ^~~~~~~~~~~~~~
./inc/base/byteorder.h:33:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   33 | {
      | ^
./inc/runtime/rcu.h:111:1: warning: empty declaration
  111 | struct rcu_head {
      | ^~~~~~
./inc/runtime/rcu.h:116:45: error: expected declaration specifiers or ‘...’ before ‘rcu_callback_t’
  116 | extern void rcu_free(struct rcu_head *head, rcu_callback_t func);
      |                                             ^~~~~~~~~~~~~~
In file included from ./inc/iokernel/control.h:10,
                 from runtime/defs.h:17,
                 from runtime/kfault.c:19:
./inc/iokernel/shm.h:22:19: error: storage class specified for parameter ‘shmptr_t’
   22 | typedef uintptr_t shmptr_t;
      |                   ^~~~~~~~
./inc/runtime/rcu.h:117:13: error: storage class specified for parameter ‘synchronize_rcu’
  117 | extern void synchronize_rcu(void);
      |             ^~~~~~~~~~~~~~~
./inc/iokernel/shm.h:27:1: warning: empty declaration
   27 | struct shm_region {
      | ^~~~~~
./inc/iokernel/shm.h:41:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘ptr_to_shmptr’
   41 | ptr_to_shmptr(struct shm_region *r, void *ptr, size_t len)
      | ^~~~~~~~~~~~~
In file included from ./inc/base/stddef.h:12,
                 from runtime/softirq.c:5:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:42:1: note: in expansion of macro ‘BUILD_ASSERT’
   42 | BUILD_ASSERT(RUNTIME_VISIT_US <= RUNTIME_WATCHDOG_US);
      | ^~~~~~~~~~~~
In file included from runtime/defs.h:16,
                 from runtime/rmem.c:19:
./inc/net/ip.h:52:14: error: storage class specified for parameter ‘ip_addr_to_str’
   52 | extern char *ip_addr_to_str(uint32_t addr, char *str);
      |              ^~~~~~~~~~~~~~
./inc/iokernel/shm.h:58:37: error: expected declaration specifiers or ‘...’ before ‘shmptr_t’
   58 | shmptr_to_ptr(struct shm_region *r, shmptr_t shmptr, size_t len)
      |                                     ^~~~~~~~
In file included from runtime/softirq.c:10:
runtime/defs.h:53:1: warning: empty declaration
   53 | struct thread_tf {
      | ^~~~~~
./inc/iokernel/shm.h:73:2: error: expected specifier-qualifier-list before ‘shmptr_t’
   73 |  shmptr_t next;
      |  ^~~~~~~~
./inc/iokernel/shm.h:71:1: warning: empty declaration
   71 | struct shm_chain {
      | ^~~~~~
./inc/net/ip.h:57:1: warning: empty declaration
   57 | struct ip_hdr {
      | ^~~~~~
runtime/defs.h:90:1: warning: empty declaration
   90 | enum {
      | ^~~~
runtime/defs.h:96:1: warning: empty declaration
   96 | struct stack;
      | ^~~~~~
In file included from ./inc/base/stddef.h:12,
                 from ./inc/base/lock.h:7,
                 from runtime/kfault.c:7:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
./inc/iokernel/shm.h:77:1: note: in expansion of macro ‘BUILD_ASSERT’
   77 | BUILD_ASSERT(sizeof(struct shm_chain) <= CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
runtime/defs.h:98:1: warning: empty declaration
   98 | struct thread {
      | ^~~~~~
runtime/defs.h:107:16: error: storage class specified for parameter ‘runtime_fn_t’
  107 | typedef void (*runtime_fn_t)(void);
      |                ^~~~~~~~~~~~
In file included from ./inc/iokernel/control.h:10,
                 from runtime/defs.h:17,
                 from runtime/kfault.c:19:
./inc/iokernel/shm.h:89:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   89 | {
      | ^
runtime/defs.h:110:13: error: storage class specified for parameter ‘__jmp_thread’
  110 | extern void __jmp_thread(struct thread_tf *tf) __noreturn;
      |             ^~~~~~~~~~~~
./inc/net/ip.h:174:1: warning: empty declaration
  174 | struct ip_timestamp {
      | ^~~~~~
runtime/defs.h:111:13: error: storage class specified for parameter ‘__jmp_thread_direct’
  111 | extern void __jmp_thread_direct(struct thread_tf *oldtf,
      |             ^~~~~~~~~~~~~~~~~~~
runtime/defs.h:114:49: error: expected declaration specifiers or ‘...’ before ‘runtime_fn_t’
  114 | extern void __jmp_runtime(struct thread_tf *tf, runtime_fn_t fn,
      |                                                 ^~~~~~~~~~~~
./inc/iokernel/shm.h:103:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  103 | {
      | ^
runtime/defs.h:116:34: error: expected declaration specifiers or ‘...’ before ‘runtime_fn_t’
  116 | extern void __jmp_runtime_nosave(runtime_fn_t fn, void *stack) __noreturn;
      |                                  ^~~~~~~~~~~~
./inc/net/ip.h:223:1: warning: empty declaration
  223 | struct ip_pseudo {
      | ^~~~~~
./inc/iokernel/shm.h:116:2: error: expected specifier-qualifier-list before ‘shmptr_t’
  116 |  shmptr_t  msg_buf;
      |  ^~~~~~~~
runtime/defs.h:126:1: warning: empty declaration
  126 | struct stack {
      | ^~~~~~
./inc/iokernel/shm.h:114:1: warning: empty declaration
  114 | struct queue_spec {
      | ^~~~~~
./inc/iokernel/shm.h:122:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  122 | {
      | ^
./inc/iokernel/shm.h:140:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  140 | {
      | ^
In file included from ./inc/rmem/backend.h:8,
                 from ./inc/runtime/pgfault.h:8,
                 from runtime/softirq.c:8:
./inc/base/thread.h:16:19: error: storage class specified for parameter ‘__perthread_stack_pt’
   16 |  __typeof__(type) __perthread_##name __perthread \
      |                   ^~~~~~~~~~~~
./inc/base/thread.h:21:9: note: in expansion of macro ‘DEFINE_PERTHREAD’
   21 |  extern DEFINE_PERTHREAD(type, name)
      |         ^~~~~~~~~~~~~~~~
runtime/defs.h:131:1: note: in expansion of macro ‘DECLARE_PERTHREAD’
  131 | DECLARE_PERTHREAD(struct tcache_perthread, stack_pt);
      | ^~~~~~~~~~~~~~~~~
./inc/iokernel/shm.h:163:54: error: expected declaration specifiers or ‘...’ before ‘shmptr_t’
  163 | static inline int shm_init_gen(struct shm_region *r, shmptr_t gen_ptr,
      |                                                      ^~~~~~~~
./inc/base/thread.h:16:19: error: section attribute not allowed for ‘__perthread_stack_pt’
   16 |  __typeof__(type) __perthread_##name __perthread \
      |                   ^~~~~~~~~~~~
./inc/base/thread.h:21:9: note: in expansion of macro ‘DEFINE_PERTHREAD’
   21 |  extern DEFINE_PERTHREAD(type, name)
      |         ^~~~~~~~~~~~~~~~
runtime/defs.h:131:1: note: in expansion of macro ‘DECLARE_PERTHREAD’
  131 | DECLARE_PERTHREAD(struct tcache_perthread, stack_pt);
      | ^~~~~~~~~~~~~~~~~
In file included from runtime/softirq.c:10:
runtime/defs.h:141:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  141 | {
      | ^
In file included from runtime/defs.h:17,
                 from runtime/kfault.c:19:
./inc/iokernel/control.h:17:1: warning: empty declaration
   17 | struct q_ptrs {
      | ^~~~~~
runtime/defs.h:150:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  150 | {
      | ^
./inc/iokernel/control.h:29:2: error: expected specifier-qualifier-list before ‘shmptr_t’
   29 |  shmptr_t  q_ptrs;
      |  ^~~~~~~~
runtime/defs.h:157:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  157 | {
      | ^
./inc/iokernel/control.h:24:1: warning: empty declaration
   24 | struct thread_spec {
      | ^~~~~~
./inc/iokernel/control.h:34:1: warning: empty declaration
   34 | enum {
      | ^~~~
runtime/defs.h:176:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  176 | {
      | ^
./inc/iokernel/control.h:41:1: warning: empty declaration
   41 | struct sched_spec {
      | ^~~~~~
runtime/defs.h:198:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  198 | {
      | ^
./inc/iokernel/control.h:52:1: warning: empty declaration
   52 | struct control_hdr {
      | ^~~~~~
In file included from ./inc/rmem/fault.h:12,
                 from ./inc/rmem/backend.h:10,
                 from ./inc/runtime/pgfault.h:8,
                 from runtime/softirq.c:8:
runtime/defs.h:217:18: error: storage class specified for parameter ‘qlock’
  217 | DECLARE_SPINLOCK(qlock);
      |                  ^~~~~
./inc/base/lock.h:12:50: note: in definition of macro ‘DECLARE_SPINLOCK’
   12 | #define DECLARE_SPINLOCK(name) extern spinlock_t name
      |                                                  ^~~~
In file included from runtime/softirq.c:10:
runtime/defs.h:218:21: error: storage class specified for parameter ‘nrqs’
  218 | extern unsigned int nrqs;
      |                     ^~~~
runtime/defs.h:223:2: error: expected specifier-qualifier-list before ‘shmptr_t’
  223 |  shmptr_t next_free;
      |  ^~~~~~~~
runtime/defs.h:220:1: warning: empty declaration
  220 | struct iokernel_control {
      | ^~~~~~
In file included from ./inc/net/mbuf.h:16,
                 from ./inc/net/mbufq.h:7,
                 from runtime/defs.h:18,
                 from runtime/kfault.c:19:
./inc/iokernel/queue.h:10:1: warning: empty declaration
   10 | struct rx_net_hdr {
      | ^~~~~~
runtime/defs.h:230:32: error: storage class specified for parameter ‘iok’
  230 | extern struct iokernel_control iok;
      |                                ^~~
./inc/iokernel/queue.h:20:1: warning: empty declaration
   20 | struct tx_net_hdr {
      | ^~~~~~
./inc/iokernel/queue.h:29:1: warning: empty declaration
   29 | enum {
      | ^~~~
runtime/defs.h:245:1: warning: empty declaration
  245 | enum {
      | ^~~~
runtime/defs.h:273:1: warning: empty declaration
  273 | struct timer_idx;
      | ^~~~~~
./inc/iokernel/queue.h:59:1: warning: empty declaration
   59 | enum {
      | ^~~~
./inc/iokernel/queue.h:71:1: warning: empty declaration
   71 | enum {
      | ^~~~
./inc/iokernel/queue.h:82:1: warning: empty declaration
   82 | enum {
      | ^~~~
In file included from ./inc/net/mbufq.h:7,
                 from runtime/defs.h:18,
                 from runtime/kfault.c:19:
./inc/net/mbuf.h:22:1: warning: empty declaration
   22 | struct mbuf {
      | ^~~~~~
runtime/defs.h:275:1: warning: empty declaration
  275 | struct kthread {
      | ^~~~~~
./inc/net/mbuf.h:51:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   51 | {
      | ^
In file included from ./inc/base/stddef.h:12,
                 from runtime/softirq.c:5:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:332:1: note: in expansion of macro ‘BUILD_ASSERT’
  332 | BUILD_ASSERT(offsetof(struct kthread, lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:333:1: note: in expansion of macro ‘BUILD_ASSERT’
  333 | BUILD_ASSERT(offsetof(struct kthread, rxq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:334:1: note: in expansion of macro ‘BUILD_ASSERT’
  334 | BUILD_ASSERT(offsetof(struct kthread, q_ptrs) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:335:1: note: in expansion of macro ‘BUILD_ASSERT’
  335 | BUILD_ASSERT(offsetof(struct kthread, txpktq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:336:1: note: in expansion of macro ‘BUILD_ASSERT’
  336 | BUILD_ASSERT(offsetof(struct kthread, rq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:337:1: note: in expansion of macro ‘BUILD_ASSERT’
  337 | BUILD_ASSERT(offsetof(struct kthread, timer_lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
In file included from ./inc/iokernel/control.h:10,
                 from runtime/defs.h:17,
                 from runtime/rmem.c:19:
./inc/iokernel/shm.h:22:19: error: storage class specified for parameter ‘shmptr_t’
   22 | typedef uintptr_t shmptr_t;
      |                   ^~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:338:1: note: in expansion of macro ‘BUILD_ASSERT’
  338 | BUILD_ASSERT(offsetof(struct kthread, pf_lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/iokernel/shm.h:27:1: warning: empty declaration
   27 | struct shm_region {
      | ^~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:339:1: note: in expansion of macro ‘BUILD_ASSERT’
  339 | BUILD_ASSERT(offsetof(struct kthread, stats) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/iokernel/shm.h:41:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘ptr_to_shmptr’
   41 | ptr_to_shmptr(struct shm_region *r, void *ptr, size_t len)
      | ^~~~~~~~~~~~~
In file included from runtime/softirq.c:10:
runtime/defs.h:341:33: error: storage class specified for parameter ‘mykthread’
  341 | extern __thread struct kthread *mykthread;
      |                                 ^~~~~~~~~
runtime/defs.h:342:21: error: storage class specified for parameter ‘my_kthr_id’
  342 | extern __thread int my_kthr_id;
      |                     ^~~~~~~~~~
./inc/iokernel/shm.h:58:37: error: expected declaration specifiers or ‘...’ before ‘shmptr_t’
   58 | shmptr_to_ptr(struct shm_region *r, shmptr_t shmptr, size_t len)
      |                                     ^~~~~~~~
runtime/defs.h:348:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  348 | {
      | ^
runtime/defs.h:359:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  359 | {
      | ^
./inc/iokernel/shm.h:73:2: error: expected specifier-qualifier-list before ‘shmptr_t’
   73 |  shmptr_t next;
      |  ^~~~~~~~
./inc/net/mbuf.h:66:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   66 | {
      | ^
./inc/iokernel/shm.h:71:1: warning: empty declaration
   71 | struct shm_chain {
      | ^~~~~~
runtime/defs.h:368:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  368 | {
      | ^
In file included from ./inc/rmem/fault.h:12,
                 from ./inc/rmem/backend.h:10,
                 from ./inc/runtime/pgfault.h:8,
                 from runtime/softirq.c:8:
runtime/defs.h:372:18: error: storage class specified for parameter ‘klock’
  372 | DECLARE_SPINLOCK(klock);
      |                  ^~~~~
./inc/base/lock.h:12:50: note: in definition of macro ‘DECLARE_SPINLOCK’
   12 | #define DECLARE_SPINLOCK(name) extern spinlock_t name
      |                                                  ^~~~
./inc/net/mbuf.h:80:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   80 | {
      | ^
In file included from ./inc/base/stddef.h:12,
                 from ./inc/base/thread.h:10,
                 from ./inc/rmem/backend.h:8,
                 from runtime/rmem.c:11:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
./inc/iokernel/shm.h:77:1: note: in expansion of macro ‘BUILD_ASSERT’
   77 | BUILD_ASSERT(sizeof(struct shm_chain) <= CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
In file included from runtime/softirq.c:10:
runtime/defs.h:373:21: error: storage class specified for parameter ‘maxks’
  373 | extern unsigned int maxks;
      |                     ^~~~~
./inc/net/mbuf.h:92:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   92 | {
      | ^
runtime/defs.h:374:21: error: storage class specified for parameter ‘spinks’
  374 | extern unsigned int spinks;
      |                     ^~~~~~
In file included from ./inc/iokernel/control.h:10,
                 from runtime/defs.h:17,
                 from runtime/rmem.c:19:
./inc/iokernel/shm.h:89:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   89 | {
      | ^
runtime/defs.h:375:21: error: storage class specified for parameter ‘guaranteedks’
  375 | extern unsigned int guaranteedks;
      |                     ^~~~~~~~~~~~
runtime/defs.h:376:21: error: storage class specified for parameter ‘nrks’
  376 | extern unsigned int nrks;
      |                     ^~~~
./inc/net/mbuf.h:107:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  107 | {
      | ^
./inc/iokernel/shm.h:103:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  103 | {
      | ^
runtime/defs.h:377:24: error: storage class specified for parameter ‘ks’
  377 | extern struct kthread *ks[NCPU];
      |                        ^~
./inc/net/mbuf.h:122:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  122 | {
      | ^
runtime/defs.h:378:24: error: storage class specified for parameter ‘allks’
  378 | extern struct kthread *allks[NCPU];
      |                        ^~~~~
runtime/defs.h:380:13: error: storage class specified for parameter ‘kthread_detach’
  380 | extern void kthread_detach(struct kthread *r);
      |             ^~~~~~~~~~~~~~
./inc/iokernel/shm.h:116:2: error: expected specifier-qualifier-list before ‘shmptr_t’
  116 |  shmptr_t  msg_buf;
      |  ^~~~~~~~
./inc/net/mbuf.h:134:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  134 | {
      | ^
./inc/iokernel/shm.h:114:1: warning: empty declaration
  114 | struct queue_spec {
      | ^~~~~~
./inc/net/mbuf.h:146:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  146 | {
      | ^
./inc/iokernel/shm.h:122:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  122 | {
      | ^
./inc/net/mbuf.h:155:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  155 | {
      | ^
./inc/net/mbuf.h:164:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  164 | {
      | ^
./inc/iokernel/shm.h:140:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  140 | {
      | ^
./inc/net/mbuf.h:173:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  173 | {
      | ^
./inc/iokernel/shm.h:163:54: error: expected declaration specifiers or ‘...’ before ‘shmptr_t’
  163 | static inline int shm_init_gen(struct shm_region *r, shmptr_t gen_ptr,
      |                                                      ^~~~~~~~
./inc/net/mbuf.h:201:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  201 | {
      | ^
In file included from runtime/defs.h:17,
                 from runtime/rmem.c:19:
./inc/iokernel/control.h:17:1: warning: empty declaration
   17 | struct q_ptrs {
      | ^~~~~~
./inc/net/mbuf.h:212:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  212 | {
      | ^
./inc/iokernel/control.h:29:2: error: expected specifier-qualifier-list before ‘shmptr_t’
   29 |  shmptr_t  q_ptrs;
      |  ^~~~~~~~
./inc/iokernel/control.h:24:1: warning: empty declaration
   24 | struct thread_spec {
      | ^~~~~~
./inc/net/mbuf.h:223:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  223 | {
      | ^
./inc/iokernel/control.h:34:1: warning: empty declaration
   34 | enum {
      | ^~~~
./inc/net/mbuf.h:232:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  232 | {
      | ^
./inc/iokernel/control.h:41:1: warning: empty declaration
   41 | struct sched_spec {
      | ^~~~~~
./inc/net/mbuf.h:251:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  251 | {
      | ^
./inc/iokernel/control.h:52:1: warning: empty declaration
   52 | struct control_hdr {
      | ^~~~~~
./inc/net/mbuf.h:264:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  264 | {
      | ^
./inc/net/mbuf.h:268:21: error: storage class specified for parameter ‘mbuf_clone’
  268 | extern struct mbuf *mbuf_clone(struct mbuf *dst, struct mbuf *src);
      |                     ^~~~~~~~~~
In file included from runtime/defs.h:18,
                 from runtime/kfault.c:19:
./inc/net/mbufq.h:9:1: warning: empty declaration
    9 | struct mbuf;
      | ^~~~~~
runtime/defs.h:381:13: error: storage class specified for parameter ‘kthread_park’
  381 | extern void kthread_park(bool voluntary);
      |             ^~~~~~~~~~~~
./inc/net/mbufq.h:11:1: warning: empty declaration
   11 | struct mbufq {
      | ^~~~~~
runtime/defs.h:382:13: error: storage class specified for parameter ‘kthread_wait_to_attach’
  382 | extern void kthread_wait_to_attach(void);
      |             ^~~~~~~~~~~~~~~~~~~~~~
./inc/net/mbufq.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
./inc/net/mbufq.h:38:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   38 | {
      | ^
runtime/defs.h:384:1: warning: empty declaration
  384 | struct cpu_record {
      | ^~~~~~
In file included from ./inc/net/mbuf.h:16,
                 from ./inc/net/mbufq.h:7,
                 from runtime/defs.h:18,
                 from runtime/rmem.c:19:
./inc/iokernel/queue.h:10:1: warning: empty declaration
   10 | struct rx_net_hdr {
      | ^~~~~~
./inc/net/mbufq.h:53:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   53 | {
      | ^
In file included from ./inc/base/stddef.h:12,
                 from runtime/softirq.c:5:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:390:1: note: in expansion of macro ‘BUILD_ASSERT’
  390 | BUILD_ASSERT(sizeof(struct cpu_record) == CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
./inc/net/mbufq.h:63:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   63 | {
      | ^
./inc/iokernel/queue.h:20:1: warning: empty declaration
   20 | struct tx_net_hdr {
      | ^~~~~~
In file included from runtime/softirq.c:10:
runtime/defs.h:392:26: error: storage class specified for parameter ‘cpu_map’
  392 | extern struct cpu_record cpu_map[NCPU];
      |                          ^~~~~~~
./inc/net/mbufq.h:78:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   78 | {
      | ^
./inc/iokernel/queue.h:29:1: warning: empty declaration
   29 | enum {
      | ^~~~
./inc/net/mbufq.h:87:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   87 | {
      | ^
./inc/iokernel/queue.h:59:1: warning: empty declaration
   59 | enum {
      | ^~~~
runtime/defs.h:416:13: error: storage class specified for parameter ‘disable_watchdog’
  416 | extern bool disable_watchdog;
      |             ^~~~~~~~~~~~~~~~
./inc/net/mbufq.h:102:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  102 | {
      | ^
./inc/iokernel/queue.h:71:1: warning: empty declaration
   71 | enum {
      | ^~~~
runtime/defs.h:418:18: error: storage class specified for parameter ‘softirq_run_thread’
  418 | extern thread_t *softirq_run_thread(struct kthread *k, unsigned int budget);
      |                  ^~~~~~~~~~~~~~~~~~
./inc/iokernel/queue.h:82:1: warning: empty declaration
   82 | enum {
      | ^~~~
runtime/defs.h:419:13: error: storage class specified for parameter ‘softirq_run’
  419 | extern void softirq_run(unsigned int budget);
      |             ^~~~~~~~~~~
In file included from runtime/defs.h:23,
                 from runtime/kfault.c:19:
./inc/runtime/rcu.h:16:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   16 | {
      | ^
./inc/runtime/rcu.h:25:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   25 | {
      | ^
runtime/defs.h:426:1: warning: empty declaration
  426 | struct net_cfg {
      | ^~~~~~
./inc/runtime/rcu.h:33:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   33 | {
      | ^
In file included from ./inc/base/stddef.h:12,
                 from runtime/softirq.c:5:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:436:1: note: in expansion of macro ‘BUILD_ASSERT’
  436 | BUILD_ASSERT(sizeof(struct net_cfg) == CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
In file included from ./inc/net/mbufq.h:7,
                 from runtime/defs.h:18,
                 from runtime/rmem.c:19:
./inc/net/mbuf.h:22:1: warning: empty declaration
   22 | struct mbuf {
      | ^~~~~~
In file included from runtime/softirq.c:10:
runtime/defs.h:438:23: error: storage class specified for parameter ‘netcfg’
  438 | extern struct net_cfg netcfg;
      |                       ^~~~~~
./inc/net/mbuf.h:51:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   51 | {
      | ^
./inc/runtime/rcu.h:108:1: warning: empty declaration
  108 | struct rcu_head;
      | ^~~~~~
./inc/net/mbuf.h:66:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   66 | {
      | ^
./inc/runtime/rcu.h:109:16: error: storage class specified for parameter ‘rcu_callback_t’
  109 | typedef void (*rcu_callback_t)(struct rcu_head *head);
      |                ^~~~~~~~~~~~~~
runtime/defs.h:441:1: warning: empty declaration
  441 | struct cfg_arp_static_entry {
      | ^~~~~~
./inc/runtime/rcu.h:113:2: error: expected specifier-qualifier-list before ‘rcu_callback_t’
  113 |  rcu_callback_t func;
      |  ^~~~~~~~~~~~~~
runtime/defs.h:445:12: error: storage class specified for parameter ‘arp_static_count’
  445 | extern int arp_static_count;
      |            ^~~~~~~~~~~~~~~~
./inc/runtime/rcu.h:111:1: warning: empty declaration
  111 | struct rcu_head {
      | ^~~~~~
runtime/defs.h:446:36: error: storage class specified for parameter ‘static_entries’
  446 | extern struct cfg_arp_static_entry static_entries[MAX_ARP_STATIC_ENTRIES];
      |                                    ^~~~~~~~~~~~~~
./inc/net/mbuf.h:80:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   80 | {
      | ^
./inc/runtime/rcu.h:116:45: error: expected declaration specifiers or ‘...’ before ‘rcu_callback_t’
  116 | extern void rcu_free(struct rcu_head *head, rcu_callback_t func);
      |                                             ^~~~~~~~~~~~~~
./inc/runtime/rcu.h:117:13: error: storage class specified for parameter ‘synchronize_rcu’
  117 | extern void synchronize_rcu(void);
      |             ^~~~~~~~~~~~~~~
runtime/defs.h:448:13: error: storage class specified for parameter ‘__net_recurrent’
  448 | extern void __net_recurrent(void);
      |             ^~~~~~~~~~~~~~~
./inc/net/mbuf.h:92:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   92 | {
      | ^
runtime/defs.h:449:13: error: storage class specified for parameter ‘net_rx_softirq’
  449 | extern void net_rx_softirq(struct rx_net_hdr **hdrs, unsigned int nr);
      |             ^~~~~~~~~~~~~~
./inc/net/mbuf.h:107:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  107 | {
      | ^
In file included from ./inc/base/stddef.h:12,
                 from ./inc/base/lock.h:7,
                 from runtime/kfault.c:7:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:42:1: note: in expansion of macro ‘BUILD_ASSERT’
   42 | BUILD_ASSERT(RUNTIME_VISIT_US <= RUNTIME_WATCHDOG_US);
      | ^~~~~~~~~~~~
runtime/defs.h:456:13: error: storage class specified for parameter ‘timer_softirq’
  456 | extern void timer_softirq(struct kthread *k, unsigned int budget);
      |             ^~~~~~~~~~~~~
runtime/defs.h:457:13: error: storage class specified for parameter ‘timer_merge’
  457 | extern void timer_merge(struct kthread *r);
      |             ^~~~~~~~~~~
./inc/net/mbuf.h:122:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  122 | {
      | ^
In file included from runtime/kfault.c:19:
runtime/defs.h:53:1: warning: empty declaration
   53 | struct thread_tf {
      | ^~~~~~
runtime/defs.h:458:17: error: storage class specified for parameter ‘timer_earliest_deadline’
  458 | extern uint64_t timer_earliest_deadline(void);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~
./inc/net/mbuf.h:134:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  134 | {
      | ^
runtime/defs.h:460:1: warning: empty declaration
  460 | struct timer_idx {
      | ^~~~~~
runtime/defs.h:90:1: warning: empty declaration
   90 | enum {
      | ^~~~
runtime/defs.h:96:1: warning: empty declaration
   96 | struct stack;
      | ^~~~~~
runtime/defs.h:470:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  470 | {
      | ^
./inc/net/mbuf.h:146:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  146 | {
      | ^
runtime/defs.h:98:1: warning: empty declaration
   98 | struct thread {
      | ^~~~~~
runtime/defs.h:480:12: error: storage class specified for parameter ‘kthread_init_thread’
  480 | extern int kthread_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~
./inc/net/mbuf.h:155:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  155 | {
      | ^
runtime/defs.h:107:16: error: storage class specified for parameter ‘runtime_fn_t’
  107 | typedef void (*runtime_fn_t)(void);
      |                ^~~~~~~~~~~~
./inc/net/mbuf.h:164:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  164 | {
      | ^
runtime/defs.h:481:12: error: storage class specified for parameter ‘ioqueues_init_thread’
  481 | extern int ioqueues_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~~
./inc/net/mbuf.h:173:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  173 | {
      | ^
runtime/defs.h:110:13: error: storage class specified for parameter ‘__jmp_thread’
  110 | extern void __jmp_thread(struct thread_tf *tf) __noreturn;
      |             ^~~~~~~~~~~~
runtime/defs.h:482:12: error: storage class specified for parameter ‘stack_init_thread’
  482 | extern int stack_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:111:13: error: storage class specified for parameter ‘__jmp_thread_direct’
  111 | extern void __jmp_thread_direct(struct thread_tf *oldtf,
      |             ^~~~~~~~~~~~~~~~~~~
runtime/defs.h:483:12: error: storage class specified for parameter ‘timer_init_thread’
  483 | extern int timer_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
./inc/net/mbuf.h:201:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  201 | {
      | ^
runtime/defs.h:114:49: error: expected declaration specifiers or ‘...’ before ‘runtime_fn_t’
  114 | extern void __jmp_runtime(struct thread_tf *tf, runtime_fn_t fn,
      |                                                 ^~~~~~~~~~~~
runtime/defs.h:484:12: error: storage class specified for parameter ‘sched_init_thread’
  484 | extern int sched_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:116:34: error: expected declaration specifiers or ‘...’ before ‘runtime_fn_t’
  116 | extern void __jmp_runtime_nosave(runtime_fn_t fn, void *stack) __noreturn;
      |                                  ^~~~~~~~~~~~
runtime/defs.h:485:12: error: storage class specified for parameter ‘stat_init_thread’
  485 | extern int stat_init_thread(void);
      |            ^~~~~~~~~~~~~~~~
./inc/net/mbuf.h:212:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  212 | {
      | ^
runtime/defs.h:486:12: error: storage class specified for parameter ‘net_init_thread’
  486 | extern int net_init_thread(void);
      |            ^~~~~~~~~~~~~~~
./inc/net/mbuf.h:223:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  223 | {
      | ^
runtime/defs.h:487:12: error: storage class specified for parameter ‘smalloc_init_thread’
  487 | extern int smalloc_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~
runtime/defs.h:126:1: warning: empty declaration
  126 | struct stack {
      | ^~~~~~
./inc/net/mbuf.h:232:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  232 | {
      | ^
runtime/defs.h:488:12: error: storage class specified for parameter ‘rmem_init_thread’
  488 | extern int rmem_init_thread(void);
      |            ^~~~~~~~~~~~~~~~
./inc/net/mbuf.h:251:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  251 | {
      | ^
runtime/defs.h:491:12: error: storage class specified for parameter ‘ioqueues_init’
  491 | extern int ioqueues_init(unsigned int threads);
      |            ^~~~~~~~~~~~~
runtime/defs.h:492:12: error: storage class specified for parameter ‘stack_init’
  492 | extern int stack_init(void);
      |            ^~~~~~~~~~
In file included from ./inc/rmem/backend.h:8,
                 from ./inc/rmem/eviction.h:9,
                 from runtime/kfault.c:11:
./inc/base/thread.h:16:19: error: storage class specified for parameter ‘__perthread_stack_pt’
   16 |  __typeof__(type) __perthread_##name __perthread \
      |                   ^~~~~~~~~~~~
./inc/base/thread.h:21:9: note: in expansion of macro ‘DEFINE_PERTHREAD’
   21 |  extern DEFINE_PERTHREAD(type, name)
      |         ^~~~~~~~~~~~~~~~
runtime/defs.h:131:1: note: in expansion of macro ‘DECLARE_PERTHREAD’
  131 | DECLARE_PERTHREAD(struct tcache_perthread, stack_pt);
      | ^~~~~~~~~~~~~~~~~
./inc/net/mbuf.h:264:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  264 | {
      | ^
runtime/defs.h:493:12: error: storage class specified for parameter ‘sched_init’
  493 | extern int sched_init(void);
      |            ^~~~~~~~~~
./inc/net/mbuf.h:268:21: error: storage class specified for parameter ‘mbuf_clone’
  268 | extern struct mbuf *mbuf_clone(struct mbuf *dst, struct mbuf *src);
      |                     ^~~~~~~~~~
./inc/base/thread.h:16:19: error: section attribute not allowed for ‘__perthread_stack_pt’
   16 |  __typeof__(type) __perthread_##name __perthread \
      |                   ^~~~~~~~~~~~
./inc/base/thread.h:21:9: note: in expansion of macro ‘DEFINE_PERTHREAD’
   21 |  extern DEFINE_PERTHREAD(type, name)
      |         ^~~~~~~~~~~~~~~~
runtime/defs.h:131:1: note: in expansion of macro ‘DECLARE_PERTHREAD’
  131 | DECLARE_PERTHREAD(struct tcache_perthread, stack_pt);
      | ^~~~~~~~~~~~~~~~~
runtime/defs.h:494:12: error: storage class specified for parameter ‘preempt_init’
  494 | extern int preempt_init(void);
      |            ^~~~~~~~~~~~
In file included from runtime/kfault.c:19:
runtime/defs.h:141:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  141 | {
      | ^
In file included from runtime/defs.h:18,
                 from runtime/rmem.c:19:
./inc/net/mbufq.h:9:1: warning: empty declaration
    9 | struct mbuf;
      | ^~~~~~
runtime/defs.h:495:12: error: storage class specified for parameter ‘net_init’
  495 | extern int net_init(void);
      |            ^~~~~~~~
runtime/defs.h:150:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  150 | {
      | ^
./inc/net/mbufq.h:11:1: warning: empty declaration
   11 | struct mbufq {
      | ^~~~~~
runtime/defs.h:496:12: error: storage class specified for parameter ‘arp_init’
  496 | extern int arp_init(void);
      |            ^~~~~~~~
runtime/defs.h:157:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  157 | {
      | ^
./inc/net/mbufq.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
runtime/defs.h:497:12: error: storage class specified for parameter ‘trans_init’
  497 | extern int trans_init(void);
      |            ^~~~~~~~~~
./inc/net/mbufq.h:38:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   38 | {
      | ^
runtime/defs.h:498:12: error: storage class specified for parameter ‘smalloc_init’
  498 | extern int smalloc_init(void);
      |            ^~~~~~~~~~~~
runtime/defs.h:176:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  176 | {
      | ^
./inc/net/mbufq.h:53:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   53 | {
      | ^
runtime/defs.h:499:12: error: storage class specified for parameter ‘rmem_init’
  499 | extern int rmem_init(void);
      |            ^~~~~~~~~
./inc/net/mbufq.h:63:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   63 | {
      | ^
runtime/defs.h:198:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  198 | {
      | ^
runtime/defs.h:502:12: error: storage class specified for parameter ‘ioqueues_register_iokernel’
  502 | extern int ioqueues_register_iokernel(void);
      |            ^~~~~~~~~~~~~~~~~~~~~~~~~~
./inc/net/mbufq.h:78:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   78 | {
      | ^
runtime/defs.h:503:12: error: storage class specified for parameter ‘arp_init_late’
  503 | extern int arp_init_late(void);
      |            ^~~~~~~~~~~~~
./inc/net/mbufq.h:87:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   87 | {
      | ^
runtime/defs.h:504:12: error: storage class specified for parameter ‘stat_init_late’
  504 | extern int stat_init_late(void);
      |            ^~~~~~~~~~~~~~
./inc/net/mbufq.h:102:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  102 | {
      | ^
runtime/defs.h:505:12: error: storage class specified for parameter ‘tcp_init_late’
  505 | extern int tcp_init_late(void);
      |            ^~~~~~~~~~~~~
runtime/defs.h:506:12: error: storage class specified for parameter ‘rcu_init_late’
  506 | extern int rcu_init_late(void);
      |            ^~~~~~~~~~~~~
In file included from runtime/defs.h:23,
                 from runtime/rmem.c:19:
./inc/runtime/rcu.h:16:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   16 | {
      | ^
runtime/defs.h:507:12: error: storage class specified for parameter ‘rmem_init_late’
  507 | extern int rmem_init_late(void);
      |            ^~~~~~~~~~~~~~
./inc/runtime/rcu.h:25:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   25 | {
      | ^
runtime/defs.h:510:12: error: storage class specified for parameter ‘cfg_load’
  510 | extern int cfg_load(const char *path);
      |            ^~~~~~~~
./inc/runtime/rcu.h:33:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   33 | {
      | ^
runtime/defs.h:513:13: error: storage class specified for parameter ‘sched_start’
  513 | extern void sched_start(void) __noreturn;
      |             ^~~~~~~~~~~
runtime/defs.h:514:12: error: storage class specified for parameter ‘thread_spawn_main’
  514 | extern int thread_spawn_main(thread_fn_t fn, void *arg);
      |            ^~~~~~~~~~~~~~~~~
./inc/runtime/rcu.h:108:1: warning: empty declaration
  108 | struct rcu_head;
      | ^~~~~~
runtime/defs.h:515:13: error: storage class specified for parameter ‘thread_yield_kthread’
  515 | extern void thread_yield_kthread();
      |             ^~~~~~~~~~~~~~~~~~~~
./inc/runtime/rcu.h:109:16: error: storage class specified for parameter ‘rcu_callback_t’
  109 | typedef void (*rcu_callback_t)(struct rcu_head *head);
      |                ^~~~~~~~~~~~~~
runtime/defs.h:516:13: error: storage class specified for parameter ‘join_kthread’
  516 | extern void join_kthread(struct kthread *k);
      |             ^~~~~~~~~~~~
./inc/runtime/rcu.h:113:2: error: expected specifier-qualifier-list before ‘rcu_callback_t’
  113 |  rcu_callback_t func;
      |  ^~~~~~~~~~~~~~
In file included from runtime/kfault.c:7:
runtime/defs.h:217:18: error: storage class specified for parameter ‘qlock’
  217 | DECLARE_SPINLOCK(qlock);
      |                  ^~~~~
./inc/base/lock.h:12:50: note: in definition of macro ‘DECLARE_SPINLOCK’
   12 | #define DECLARE_SPINLOCK(name) extern spinlock_t name
      |                                                  ^~~~
./inc/runtime/rcu.h:111:1: warning: empty declaration
  111 | struct rcu_head {
      | ^~~~~~
In file included from runtime/kfault.c:19:
runtime/defs.h:218:21: error: storage class specified for parameter ‘nrqs’
  218 | extern unsigned int nrqs;
      |                     ^~~~
runtime/defs.h:519:13: error: storage class specified for parameter ‘thread_ready_preempt_off’
  519 | extern void thread_ready_preempt_off(thread_t *thread);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~
./inc/runtime/rcu.h:116:45: error: expected declaration specifiers or ‘...’ before ‘rcu_callback_t’
  116 | extern void rcu_free(struct rcu_head *head, rcu_callback_t func);
      |                                             ^~~~~~~~~~~~~~
runtime/defs.h:223:2: error: expected specifier-qualifier-list before ‘shmptr_t’
  223 |  shmptr_t next_free;
      |  ^~~~~~~~
./inc/runtime/rcu.h:117:13: error: storage class specified for parameter ‘synchronize_rcu’
  117 | extern void synchronize_rcu(void);
      |             ^~~~~~~~~~~~~~~
runtime/defs.h:520:13: error: storage class specified for parameter ‘thread_ready_safe’
  520 | extern void thread_ready_safe(struct kthread *k, thread_t *th);
      |             ^~~~~~~~~~~~~~~~~
runtime/defs.h:220:1: warning: empty declaration
  220 | struct iokernel_control {
      | ^~~~~~
runtime/defs.h:521:13: error: storage class specified for parameter ‘faulted_thread_ready_preempt_off’
  521 | extern void faulted_thread_ready_preempt_off(thread_t *th);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:230:32: error: storage class specified for parameter ‘iok’
  230 | extern struct iokernel_control iok;
      |                                ^~~
runtime/defs.h:522:13: error: storage class specified for parameter ‘faulted_thread_ready_safe’
  522 | extern void faulted_thread_ready_safe(struct kthread *k, thread_t *th);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~
In file included from ./inc/base/stddef.h:12,
                 from ./inc/base/thread.h:10,
                 from ./inc/rmem/backend.h:8,
                 from runtime/rmem.c:11:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:42:1: note: in expansion of macro ‘BUILD_ASSERT’
   42 | BUILD_ASSERT(RUNTIME_VISIT_US <= RUNTIME_WATCHDOG_US);
      | ^~~~~~~~~~~~
runtime/defs.h:525:13: error: storage class specified for parameter ‘rmem_hints_enabled’
  525 | extern bool rmem_hints_enabled;
      |             ^~~~~~~~~~~~~~~~~~
runtime/defs.h:245:1: warning: empty declaration
  245 | enum {
      | ^~~~
runtime/defs.h:526:36: error: storage class specified for parameter ‘kthr_owner_cbs’
  526 | extern struct bkend_completion_cbs kthr_owner_cbs;
      |                                    ^~~~~~~~~~~~~~
runtime/defs.h:273:1: warning: empty declaration
  273 | struct timer_idx;
      | ^~~~~~
In file included from runtime/rmem.c:19:
runtime/defs.h:53:1: warning: empty declaration
   53 | struct thread_tf {
      | ^~~~~~
runtime/defs.h:527:36: error: storage class specified for parameter ‘kthr_stealer_cbs’
  527 | extern struct bkend_completion_cbs kthr_stealer_cbs;
      |                                    ^~~~~~~~~~~~~~~~
runtime/defs.h:90:1: warning: empty declaration
   90 | enum {
      | ^~~~
runtime/defs.h:96:1: warning: empty declaration
   96 | struct stack;
      | ^~~~~~
runtime/defs.h:98:1: warning: empty declaration
   98 | struct thread {
      | ^~~~~~
runtime/defs.h:107:16: error: storage class specified for parameter ‘runtime_fn_t’
  107 | typedef void (*runtime_fn_t)(void);
      |                ^~~~~~~~~~~~
In file included from runtime/net/defs.h:10,
                 from runtime/softirq.c:11:
./inc/runtime/net.h:9:1: warning: empty declaration
    9 | struct netaddr {
      | ^~~~~~
runtime/defs.h:110:13: error: storage class specified for parameter ‘__jmp_thread’
  110 | extern void __jmp_thread(struct thread_tf *tf) __noreturn;
      |             ^~~~~~~~~~~~
runtime/defs.h:275:1: warning: empty declaration
  275 | struct kthread {
      | ^~~~~~
./inc/runtime/net.h:14:12: error: storage class specified for parameter ‘str_to_netaddr’
   14 | extern int str_to_netaddr(const char *str, struct netaddr *addr);
      |            ^~~~~~~~~~~~~~
runtime/defs.h:111:13: error: storage class specified for parameter ‘__jmp_thread_direct’
  111 | extern void __jmp_thread_direct(struct thread_tf *oldtf,
      |             ^~~~~~~~~~~~~~~~~~~
In file included from ./inc/base/stddef.h:12,
                 from ./inc/base/lock.h:7,
                 from runtime/kfault.c:7:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:332:1: note: in expansion of macro ‘BUILD_ASSERT’
  332 | BUILD_ASSERT(offsetof(struct kthread, lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
runtime/defs.h:114:49: error: expected declaration specifiers or ‘...’ before ‘runtime_fn_t’
  114 | extern void __jmp_runtime(struct thread_tf *tf, runtime_fn_t fn,
      |                                                 ^~~~~~~~~~~~
runtime/defs.h:116:34: error: expected declaration specifiers or ‘...’ before ‘runtime_fn_t’
  116 | extern void __jmp_runtime_nosave(runtime_fn_t fn, void *stack) __noreturn;
      |                                  ^~~~~~~~~~~~
In file included from runtime/net/defs.h:11,
                 from runtime/softirq.c:11:
./inc/runtime/rculist.h:9:1: warning: empty declaration
    9 | struct rcu_hlist_node {
      | ^~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:333:1: note: in expansion of macro ‘BUILD_ASSERT’
  333 | BUILD_ASSERT(offsetof(struct kthread, rxq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/runtime/rculist.h:14:1: warning: empty declaration
   14 | struct rcu_hlist_head {
      | ^~~~~~
./inc/runtime/rculist.h:23:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   23 | {
      | ^
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:334:1: note: in expansion of macro ‘BUILD_ASSERT’
  334 | BUILD_ASSERT(offsetof(struct kthread, q_ptrs) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
runtime/defs.h:126:1: warning: empty declaration
  126 | struct stack {
      | ^~~~~~
./inc/runtime/rculist.h:34:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   34 | {
      | ^
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:335:1: note: in expansion of macro ‘BUILD_ASSERT’
  335 | BUILD_ASSERT(offsetof(struct kthread, txpktq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:336:1: note: in expansion of macro ‘BUILD_ASSERT’
  336 | BUILD_ASSERT(offsetof(struct kthread, rq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
In file included from ./inc/rmem/backend.h:8,
                 from runtime/rmem.c:11:
./inc/base/thread.h:16:19: error: storage class specified for parameter ‘__perthread_stack_pt’
   16 |  __typeof__(type) __perthread_##name __perthread \
      |                   ^~~~~~~~~~~~
./inc/base/thread.h:21:9: note: in expansion of macro ‘DEFINE_PERTHREAD’
   21 |  extern DEFINE_PERTHREAD(type, name)
      |         ^~~~~~~~~~~~~~~~
runtime/defs.h:131:1: note: in expansion of macro ‘DECLARE_PERTHREAD’
  131 | DECLARE_PERTHREAD(struct tcache_perthread, stack_pt);
      | ^~~~~~~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:337:1: note: in expansion of macro ‘BUILD_ASSERT’
  337 | BUILD_ASSERT(offsetof(struct kthread, timer_lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/runtime/rculist.h:48:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   48 | {
      | ^
./inc/base/thread.h:16:19: error: section attribute not allowed for ‘__perthread_stack_pt’
   16 |  __typeof__(type) __perthread_##name __perthread \
      |                   ^~~~~~~~~~~~
./inc/base/thread.h:21:9: note: in expansion of macro ‘DEFINE_PERTHREAD’
   21 |  extern DEFINE_PERTHREAD(type, name)
      |         ^~~~~~~~~~~~~~~~
runtime/defs.h:131:1: note: in expansion of macro ‘DECLARE_PERTHREAD’
  131 | DECLARE_PERTHREAD(struct tcache_perthread, stack_pt);
      | ^~~~~~~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:338:1: note: in expansion of macro ‘BUILD_ASSERT’
  338 | BUILD_ASSERT(offsetof(struct kthread, pf_lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
In file included from runtime/rmem.c:19:
runtime/defs.h:141:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  141 | {
      | ^
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:339:1: note: in expansion of macro ‘BUILD_ASSERT’
  339 | BUILD_ASSERT(offsetof(struct kthread, stats) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/runtime/rculist.h:62:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   62 | {
      | ^
runtime/defs.h:150:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  150 | {
      | ^
In file included from runtime/kfault.c:19:
runtime/defs.h:341:33: error: storage class specified for parameter ‘mykthread’
  341 | extern __thread struct kthread *mykthread;
      |                                 ^~~~~~~~~
runtime/defs.h:157:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  157 | {
      | ^
runtime/defs.h:342:21: error: storage class specified for parameter ‘my_kthr_id’
  342 | extern __thread int my_kthr_id;
      |                     ^~~~~~~~~~
runtime/defs.h:348:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  348 | {
      | ^
runtime/defs.h:176:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  176 | {
      | ^
runtime/defs.h:359:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  359 | {
      | ^
runtime/defs.h:368:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  368 | {
      | ^
runtime/defs.h:198:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  198 | {
      | ^
In file included from runtime/softirq.c:11:
runtime/net/defs.h:19:13: error: storage class specified for parameter ‘trans_error’
   19 | extern void trans_error(struct mbuf *m, int err);
      |             ^~~~~~~~~~~
runtime/net/defs.h:20:13: error: storage class specified for parameter ‘net_error’
   20 | extern void net_error(struct mbuf *m, int err);
      |             ^~~~~~~~~
In file included from runtime/kfault.c:7:
runtime/defs.h:372:18: error: storage class specified for parameter ‘klock’
  372 | DECLARE_SPINLOCK(klock);
      |                  ^~~~~
./inc/base/lock.h:12:50: note: in definition of macro ‘DECLARE_SPINLOCK’
   12 | #define DECLARE_SPINLOCK(name) extern spinlock_t name
      |                                                  ^~~~
runtime/net/defs.h:27:13: error: storage class specified for parameter ‘net_rx_arp’
   27 | extern void net_rx_arp(struct mbuf *m);
      |             ^~~~~~~~~~
In file included from runtime/kfault.c:19:
runtime/defs.h:373:21: error: storage class specified for parameter ‘maxks’
  373 | extern unsigned int maxks;
      |                     ^~~~~
runtime/net/defs.h:28:13: error: storage class specified for parameter ‘net_rx_icmp’
   28 | extern void net_rx_icmp(struct mbuf *m, const struct ip_hdr *iphdr,
      |             ^~~~~~~~~~~
runtime/defs.h:374:21: error: storage class specified for parameter ‘spinks’
  374 | extern unsigned int spinks;
      |                     ^~~~~~
runtime/defs.h:375:21: error: storage class specified for parameter ‘guaranteedks’
  375 | extern unsigned int guaranteedks;
      |                     ^~~~~~~~~~~~
runtime/net/defs.h:30:13: error: storage class specified for parameter ‘net_rx_trans’
   30 | extern void net_rx_trans(struct mbuf **ms, const unsigned int nr);
      |             ^~~~~~~~~~~~
runtime/defs.h:376:21: error: storage class specified for parameter ‘nrks’
  376 | extern unsigned int nrks;
      |                     ^~~~
runtime/net/defs.h:31:13: error: storage class specified for parameter ‘tcp_rx_closed’
   31 | extern void tcp_rx_closed(struct mbuf *m);
      |             ^~~~~~~~~~~~~
In file included from ./inc/rmem/fault.h:12,
                 from ./inc/rmem/backend.h:10,
                 from runtime/rmem.c:11:
runtime/defs.h:217:18: error: storage class specified for parameter ‘qlock’
  217 | DECLARE_SPINLOCK(qlock);
      |                  ^~~~~
./inc/base/lock.h:12:50: note: in definition of macro ‘DECLARE_SPINLOCK’
   12 | #define DECLARE_SPINLOCK(name) extern spinlock_t name
      |                                                  ^~~~
runtime/defs.h:377:24: error: storage class specified for parameter ‘ks’
  377 | extern struct kthread *ks[NCPU];
      |                        ^~
In file included from runtime/rmem.c:19:
runtime/defs.h:218:21: error: storage class specified for parameter ‘nrqs’
  218 | extern unsigned int nrqs;
      |                     ^~~~
runtime/net/defs.h:38:12: error: storage class specified for parameter ‘arp_lookup’
   38 | extern int arp_lookup(uint32_t daddr, struct eth_addr *dhost_out,
      |            ^~~~~~~~~~
runtime/defs.h:378:24: error: storage class specified for parameter ‘allks’
  378 | extern struct kthread *allks[NCPU];
      |                        ^~~~~
runtime/defs.h:223:2: error: expected specifier-qualifier-list before ‘shmptr_t’
  223 |  shmptr_t next_free;
      |  ^~~~~~~~
runtime/net/defs.h:40:21: error: storage class specified for parameter ‘net_tx_alloc_mbuf’
   40 | extern struct mbuf *net_tx_alloc_mbuf(void);
      |                     ^~~~~~~~~~~~~~~~~
runtime/defs.h:380:13: error: storage class specified for parameter ‘kthread_detach’
  380 | extern void kthread_detach(struct kthread *r);
      |             ^~~~~~~~~~~~~~
runtime/net/defs.h:41:13: error: storage class specified for parameter ‘net_tx_release_mbuf’
   41 | extern void net_tx_release_mbuf(struct mbuf *m);
      |             ^~~~~~~~~~~~~~~~~~~
runtime/defs.h:220:1: warning: empty declaration
  220 | struct iokernel_control {
      | ^~~~~~
runtime/defs.h:230:32: error: storage class specified for parameter ‘iok’
  230 | extern struct iokernel_control iok;
      |                                ^~~
runtime/defs.h:381:13: error: storage class specified for parameter ‘kthread_park’
  381 | extern void kthread_park(bool voluntary);
      |             ^~~~~~~~~~~~
runtime/net/defs.h:42:12: error: storage class specified for parameter ‘net_tx_eth’
   42 | extern int net_tx_eth(struct mbuf *m, uint16_t proto,
      |            ^~~~~~~~~~
runtime/defs.h:382:13: error: storage class specified for parameter ‘kthread_wait_to_attach’
  382 | extern void kthread_wait_to_attach(void);
      |             ^~~~~~~~~~~~~~~~~~~~~~
runtime/net/defs.h:44:12: error: storage class specified for parameter ‘net_tx_ip’
   44 | extern int net_tx_ip(struct mbuf *m, uint8_t proto,
      |            ^~~~~~~~~
runtime/defs.h:245:1: warning: empty declaration
  245 | enum {
      | ^~~~
runtime/net/defs.h:46:12: error: storage class specified for parameter ‘net_tx_ip_burst’
   46 | extern int net_tx_ip_burst(struct mbuf **ms, int n, uint8_t proto,
      |            ^~~~~~~~~~~~~~~
runtime/defs.h:384:1: warning: empty declaration
  384 | struct cpu_record {
      | ^~~~~~
runtime/defs.h:273:1: warning: empty declaration
  273 | struct timer_idx;
      | ^~~~~~
runtime/net/defs.h:48:12: error: storage class specified for parameter ‘net_tx_icmp’
   48 | extern int net_tx_icmp(struct mbuf *m, uint8_t type, uint8_t code,
      |            ^~~~~~~~~~~
In file included from ./inc/base/stddef.h:12,
                 from ./inc/base/lock.h:7,
                 from runtime/kfault.c:7:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:390:1: note: in expansion of macro ‘BUILD_ASSERT’
  390 | BUILD_ASSERT(sizeof(struct cpu_record) == CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
runtime/net/defs.h:64:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   64 | {
      | ^
In file included from runtime/kfault.c:19:
runtime/defs.h:392:26: error: storage class specified for parameter ‘cpu_map’
  392 | extern struct cpu_record cpu_map[NCPU];
      |                          ^~~~~~~
runtime/net/defs.h:82:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   82 | {
      | ^
runtime/defs.h:416:13: error: storage class specified for parameter ‘disable_watchdog’
  416 | extern bool disable_watchdog;
      |             ^~~~~~~~~~~~~~~~
runtime/net/defs.h:92:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   92 | {
      | ^
runtime/defs.h:418:18: error: storage class specified for parameter ‘softirq_run_thread’
  418 | extern thread_t *softirq_run_thread(struct kthread *k, unsigned int budget);
      |                  ^~~~~~~~~~~~~~~~~~
runtime/net/defs.h:102:1: warning: empty declaration
  102 | enum {
      | ^~~~
runtime/defs.h:275:1: warning: empty declaration
  275 | struct kthread {
      | ^~~~~~
runtime/net/defs.h:109:1: warning: empty declaration
  109 | struct trans_entry;
      | ^~~~~~
runtime/defs.h:419:13: error: storage class specified for parameter ‘softirq_run’
  419 | extern void softirq_run(unsigned int budget);
      |             ^~~~~~~~~~~
runtime/net/defs.h:111:1: warning: empty declaration
  111 | struct trans_ops {
      | ^~~~~~
In file included from ./inc/base/stddef.h:12,
                 from ./inc/base/thread.h:10,
                 from ./inc/rmem/backend.h:8,
                 from runtime/rmem.c:11:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:332:1: note: in expansion of macro ‘BUILD_ASSERT’
  332 | BUILD_ASSERT(offsetof(struct kthread, lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
runtime/defs.h:426:1: warning: empty declaration
  426 | struct net_cfg {
      | ^~~~~~
runtime/net/defs.h:118:1: warning: empty declaration
  118 | struct trans_entry {
      | ^~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:333:1: note: in expansion of macro ‘BUILD_ASSERT’
  333 | BUILD_ASSERT(offsetof(struct kthread, rxq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
runtime/net/defs.h:138:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  138 | {
      | ^
In file included from ./inc/base/stddef.h:12,
                 from ./inc/base/lock.h:7,
                 from runtime/kfault.c:7:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:436:1: note: in expansion of macro ‘BUILD_ASSERT’
  436 | BUILD_ASSERT(sizeof(struct net_cfg) == CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:334:1: note: in expansion of macro ‘BUILD_ASSERT’
  334 | BUILD_ASSERT(offsetof(struct kthread, q_ptrs) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
runtime/net/defs.h:156:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  156 | {
      | ^
In file included from runtime/kfault.c:19:
runtime/defs.h:438:23: error: storage class specified for parameter ‘netcfg’
  438 | extern struct net_cfg netcfg;
      |                       ^~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:335:1: note: in expansion of macro ‘BUILD_ASSERT’
  335 | BUILD_ASSERT(offsetof(struct kthread, txpktq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
runtime/net/defs.h:164:12: error: storage class specified for parameter ‘trans_table_add’
  164 | extern int trans_table_add(struct trans_entry *e);
      |            ^~~~~~~~~~~~~~~
runtime/defs.h:441:1: warning: empty declaration
  441 | struct cfg_arp_static_entry {
      | ^~~~~~
runtime/net/defs.h:165:12: error: storage class specified for parameter ‘trans_table_add_with_ephemeral_port’
  165 | extern int trans_table_add_with_ephemeral_port(struct trans_entry *e);
      |            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:336:1: note: in expansion of macro ‘BUILD_ASSERT’
  336 | BUILD_ASSERT(offsetof(struct kthread, rq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
runtime/net/defs.h:166:13: error: storage class specified for parameter ‘trans_table_remove’
  166 | extern void trans_table_remove(struct trans_entry *e);
      |             ^~~~~~~~~~~~~~~~~~
runtime/defs.h:445:12: error: storage class specified for parameter ‘arp_static_count’
  445 | extern int arp_static_count;
      |            ^~~~~~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:337:1: note: in expansion of macro ‘BUILD_ASSERT’
  337 | BUILD_ASSERT(offsetof(struct kthread, timer_lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
runtime/defs.h:446:36: error: storage class specified for parameter ‘static_entries’
  446 | extern struct cfg_arp_static_entry static_entries[MAX_ARP_STATIC_ENTRIES];
      |                                    ^~~~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:338:1: note: in expansion of macro ‘BUILD_ASSERT’
  338 | BUILD_ASSERT(offsetof(struct kthread, pf_lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
runtime/defs.h:448:13: error: storage class specified for parameter ‘__net_recurrent’
  448 | extern void __net_recurrent(void);
      |             ^~~~~~~~~~~~~~~
runtime/softirq.c:13:1: warning: empty declaration
   13 | struct softirq_work {
      | ^~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:339:1: note: in expansion of macro ‘BUILD_ASSERT’
  339 | BUILD_ASSERT(offsetof(struct kthread, stats) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
runtime/softirq.c:22:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   22 | {
      | ^
runtime/defs.h:449:13: error: storage class specified for parameter ‘net_rx_softirq’
  449 | extern void net_rx_softirq(struct rx_net_hdr **hdrs, unsigned int nr);
      |             ^~~~~~~~~~~~~~
In file included from runtime/rmem.c:19:
runtime/defs.h:341:33: error: storage class specified for parameter ‘mykthread’
  341 | extern __thread struct kthread *mykthread;
      |                                 ^~~~~~~~~
runtime/defs.h:456:13: error: storage class specified for parameter ‘timer_softirq’
  456 | extern void timer_softirq(struct kthread *k, unsigned int budget);
      |             ^~~~~~~~~~~~~
runtime/softirq.c:44:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   44 | {
      | ^
runtime/defs.h:342:21: error: storage class specified for parameter ‘my_kthr_id’
  342 | extern __thread int my_kthr_id;
      |                     ^~~~~~~~~~
runtime/defs.h:457:13: error: storage class specified for parameter ‘timer_merge’
  457 | extern void timer_merge(struct kthread *r);
      |             ^~~~~~~~~~~
runtime/defs.h:348:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  348 | {
      | ^
runtime/defs.h:458:17: error: storage class specified for parameter ‘timer_earliest_deadline’
  458 | extern uint64_t timer_earliest_deadline(void);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:359:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  359 | {
      | ^
runtime/defs.h:368:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  368 | {
      | ^
runtime/defs.h:460:1: warning: empty declaration
  460 | struct timer_idx {
      | ^~~~~~
runtime/defs.h:470:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  470 | {
      | ^
In file included from ./inc/rmem/fault.h:12,
                 from ./inc/rmem/backend.h:10,
                 from runtime/rmem.c:11:
runtime/defs.h:372:18: error: storage class specified for parameter ‘klock’
  372 | DECLARE_SPINLOCK(klock);
      |                  ^~~~~
./inc/base/lock.h:12:50: note: in definition of macro ‘DECLARE_SPINLOCK’
   12 | #define DECLARE_SPINLOCK(name) extern spinlock_t name
      |                                                  ^~~~
runtime/defs.h:480:12: error: storage class specified for parameter ‘kthread_init_thread’
  480 | extern int kthread_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~
In file included from runtime/rmem.c:19:
runtime/defs.h:373:21: error: storage class specified for parameter ‘maxks’
  373 | extern unsigned int maxks;
      |                     ^~~~~
runtime/defs.h:374:21: error: storage class specified for parameter ‘spinks’
  374 | extern unsigned int spinks;
      |                     ^~~~~~
runtime/defs.h:481:12: error: storage class specified for parameter ‘ioqueues_init_thread’
  481 | extern int ioqueues_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~~
runtime/defs.h:375:21: error: storage class specified for parameter ‘guaranteedks’
  375 | extern unsigned int guaranteedks;
      |                     ^~~~~~~~~~~~
runtime/softirq.c:122:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  122 | {
      | ^
runtime/defs.h:482:12: error: storage class specified for parameter ‘stack_init_thread’
  482 | extern int stack_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:376:21: error: storage class specified for parameter ‘nrks’
  376 | extern unsigned int nrks;
      |                     ^~~~
runtime/softirq.c:135:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  135 | {
      | ^
runtime/defs.h:483:12: error: storage class specified for parameter ‘timer_init_thread’
  483 | extern int timer_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:377:24: error: storage class specified for parameter ‘ks’
  377 | extern struct kthread *ks[NCPU];
      |                        ^~
runtime/defs.h:484:12: error: storage class specified for parameter ‘sched_init_thread’
  484 | extern int sched_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:378:24: error: storage class specified for parameter ‘allks’
  378 | extern struct kthread *allks[NCPU];
      |                        ^~~~~
runtime/softirq.c:159:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  159 | {
      | ^
runtime/defs.h:485:12: error: storage class specified for parameter ‘stat_init_thread’
  485 | extern int stat_init_thread(void);
      |            ^~~~~~~~~~~~~~~~
runtime/defs.h:380:13: error: storage class specified for parameter ‘kthread_detach’
  380 | extern void kthread_detach(struct kthread *r);
      |             ^~~~~~~~~~~~~~
runtime/defs.h:486:12: error: storage class specified for parameter ‘net_init_thread’
  486 | extern int net_init_thread(void);
      |            ^~~~~~~~~~~~~~~
runtime/defs.h:381:13: error: storage class specified for parameter ‘kthread_park’
  381 | extern void kthread_park(bool voluntary);
      |             ^~~~~~~~~~~~
In file included from runtime/softirq.c:8:
./inc/runtime/pgfault.h:174:20: error: old-style parameter declarations in prototyped function definition
  174 | static inline bool __is_fault_pending(void* address, bool write,
      |                    ^~~~~~~~~~~~~~~~~~
runtime/defs.h:487:12: error: storage class specified for parameter ‘smalloc_init_thread’
  487 | extern int smalloc_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~
runtime/defs.h:382:13: error: storage class specified for parameter ‘kthread_wait_to_attach’
  382 | extern void kthread_wait_to_attach(void);
      |             ^~~~~~~~~~~~~~~~~~~~~~
runtime/softirq.c:176: error: expected ‘{’ at end of input
  176 | }
      | 
runtime/defs.h:488:12: error: storage class specified for parameter ‘rmem_init_thread’
  488 | extern int rmem_init_thread(void);
      |            ^~~~~~~~~~~~~~~~
runtime/softirq.c:176:1: warning: no return statement in function returning non-void [-Wreturn-type]
  176 | }
      | ^
runtime/defs.h:384:1: warning: empty declaration
  384 | struct cpu_record {
      | ^~~~~~
runtime/softirq.c: In function ‘__is_fault_pending_eden’:
runtime/defs.h:491:12: error: storage class specified for parameter ‘ioqueues_init’
  491 | extern int ioqueues_init(unsigned int threads);
      |            ^~~~~~~~~~~~~
runtime/softirq.c:176:1: error: expected declaration or statement at end of input
In file included from ./inc/base/stddef.h:12,
                 from ./inc/base/thread.h:10,
                 from ./inc/rmem/backend.h:8,
                 from runtime/rmem.c:11:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:390:1: note: in expansion of macro ‘BUILD_ASSERT’
  390 | BUILD_ASSERT(sizeof(struct cpu_record) == CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
runtime/defs.h:492:12: error: storage class specified for parameter ‘stack_init’
  492 | extern int stack_init(void);
      |            ^~~~~~~~~~
runtime/defs.h:493:12: error: storage class specified for parameter ‘sched_init’
  493 | extern int sched_init(void);
      |            ^~~~~~~~~~
In file included from runtime/rmem.c:19:
runtime/defs.h:392:26: error: storage class specified for parameter ‘cpu_map’
  392 | extern struct cpu_record cpu_map[NCPU];
      |                          ^~~~~~~
runtime/defs.h:494:12: error: storage class specified for parameter ‘preempt_init’
  494 | extern int preempt_init(void);
      |            ^~~~~~~~~~~~
runtime/defs.h:416:13: error: storage class specified for parameter ‘disable_watchdog’
  416 | extern bool disable_watchdog;
      |             ^~~~~~~~~~~~~~~~
runtime/defs.h:495:12: error: storage class specified for parameter ‘net_init’
  495 | extern int net_init(void);
      |            ^~~~~~~~
runtime/defs.h:418:18: error: storage class specified for parameter ‘softirq_run_thread’
  418 | extern thread_t *softirq_run_thread(struct kthread *k, unsigned int budget);
      |                  ^~~~~~~~~~~~~~~~~~
runtime/defs.h:496:12: error: storage class specified for parameter ‘arp_init’
  496 | extern int arp_init(void);
      |            ^~~~~~~~
runtime/defs.h:419:13: error: storage class specified for parameter ‘softirq_run’
  419 | extern void softirq_run(unsigned int budget);
      |             ^~~~~~~~~~~
runtime/defs.h:497:12: error: storage class specified for parameter ‘trans_init’
  497 | extern int trans_init(void);
      |            ^~~~~~~~~~
runtime/defs.h:498:12: error: storage class specified for parameter ‘smalloc_init’
  498 | extern int smalloc_init(void);
      |            ^~~~~~~~~~~~
runtime/defs.h:426:1: warning: empty declaration
  426 | struct net_cfg {
      | ^~~~~~
runtime/defs.h:499:12: error: storage class specified for parameter ‘rmem_init’
  499 | extern int rmem_init(void);
      |            ^~~~~~~~~
runtime/defs.h:502:12: error: storage class specified for parameter ‘ioqueues_register_iokernel’
  502 | extern int ioqueues_register_iokernel(void);
      |            ^~~~~~~~~~~~~~~~~~~~~~~~~~
In file included from ./inc/base/stddef.h:12,
                 from ./inc/base/thread.h:10,
                 from ./inc/rmem/backend.h:8,
                 from runtime/rmem.c:11:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:436:1: note: in expansion of macro ‘BUILD_ASSERT’
  436 | BUILD_ASSERT(sizeof(struct net_cfg) == CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
runtime/defs.h:503:12: error: storage class specified for parameter ‘arp_init_late’
  503 | extern int arp_init_late(void);
      |            ^~~~~~~~~~~~~
In file included from runtime/rmem.c:19:
runtime/defs.h:438:23: error: storage class specified for parameter ‘netcfg’
  438 | extern struct net_cfg netcfg;
      |                       ^~~~~~
runtime/defs.h:504:12: error: storage class specified for parameter ‘stat_init_late’
  504 | extern int stat_init_late(void);
      |            ^~~~~~~~~~~~~~
runtime/defs.h:441:1: warning: empty declaration
  441 | struct cfg_arp_static_entry {
      | ^~~~~~
runtime/defs.h:505:12: error: storage class specified for parameter ‘tcp_init_late’
  505 | extern int tcp_init_late(void);
      |            ^~~~~~~~~~~~~
runtime/defs.h:445:12: error: storage class specified for parameter ‘arp_static_count’
  445 | extern int arp_static_count;
      |            ^~~~~~~~~~~~~~~~
runtime/defs.h:506:12: error: storage class specified for parameter ‘rcu_init_late’
  506 | extern int rcu_init_late(void);
      |            ^~~~~~~~~~~~~
runtime/defs.h:446:36: error: storage class specified for parameter ‘static_entries’
  446 | extern struct cfg_arp_static_entry static_entries[MAX_ARP_STATIC_ENTRIES];
      |                                    ^~~~~~~~~~~~~~
runtime/defs.h:507:12: error: storage class specified for parameter ‘rmem_init_late’
  507 | extern int rmem_init_late(void);
      |            ^~~~~~~~~~~~~~
runtime/defs.h:448:13: error: storage class specified for parameter ‘__net_recurrent’
  448 | extern void __net_recurrent(void);
      |             ^~~~~~~~~~~~~~~
runtime/defs.h:510:12: error: storage class specified for parameter ‘cfg_load’
  510 | extern int cfg_load(const char *path);
      |            ^~~~~~~~
runtime/defs.h:449:13: error: storage class specified for parameter ‘net_rx_softirq’
  449 | extern void net_rx_softirq(struct rx_net_hdr **hdrs, unsigned int nr);
      |             ^~~~~~~~~~~~~~
runtime/defs.h:513:13: error: storage class specified for parameter ‘sched_start’
  513 | extern void sched_start(void) __noreturn;
      |             ^~~~~~~~~~~
runtime/defs.h:456:13: error: storage class specified for parameter ‘timer_softirq’
  456 | extern void timer_softirq(struct kthread *k, unsigned int budget);
      |             ^~~~~~~~~~~~~
runtime/defs.h:514:12: error: storage class specified for parameter ‘thread_spawn_main’
  514 | extern int thread_spawn_main(thread_fn_t fn, void *arg);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:457:13: error: storage class specified for parameter ‘timer_merge’
  457 | extern void timer_merge(struct kthread *r);
      |             ^~~~~~~~~~~
runtime/defs.h:515:13: error: storage class specified for parameter ‘thread_yield_kthread’
  515 | extern void thread_yield_kthread();
      |             ^~~~~~~~~~~~~~~~~~~~
runtime/defs.h:458:17: error: storage class specified for parameter ‘timer_earliest_deadline’
  458 | extern uint64_t timer_earliest_deadline(void);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:516:13: error: storage class specified for parameter ‘join_kthread’
  516 | extern void join_kthread(struct kthread *k);
      |             ^~~~~~~~~~~~
runtime/defs.h:460:1: warning: empty declaration
  460 | struct timer_idx {
      | ^~~~~~
runtime/defs.h:519:13: error: storage class specified for parameter ‘thread_ready_preempt_off’
  519 | extern void thread_ready_preempt_off(thread_t *thread);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:470:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  470 | {
      | ^
runtime/defs.h:520:13: error: storage class specified for parameter ‘thread_ready_safe’
  520 | extern void thread_ready_safe(struct kthread *k, thread_t *th);
      |             ^~~~~~~~~~~~~~~~~
runtime/defs.h:480:12: error: storage class specified for parameter ‘kthread_init_thread’
  480 | extern int kthread_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~
runtime/defs.h:521:13: error: storage class specified for parameter ‘faulted_thread_ready_preempt_off’
  521 | extern void faulted_thread_ready_preempt_off(thread_t *th);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:481:12: error: storage class specified for parameter ‘ioqueues_init_thread’
  481 | extern int ioqueues_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~~
runtime/defs.h:522:13: error: storage class specified for parameter ‘faulted_thread_ready_safe’
  522 | extern void faulted_thread_ready_safe(struct kthread *k, thread_t *th);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:482:12: error: storage class specified for parameter ‘stack_init_thread’
  482 | extern int stack_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:483:12: error: storage class specified for parameter ‘timer_init_thread’
  483 | extern int timer_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:525:13: error: storage class specified for parameter ‘rmem_hints_enabled’
  525 | extern bool rmem_hints_enabled;
      |             ^~~~~~~~~~~~~~~~~~
runtime/defs.h:484:12: error: storage class specified for parameter ‘sched_init_thread’
  484 | extern int sched_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:526:36: error: storage class specified for parameter ‘kthr_owner_cbs’
  526 | extern struct bkend_completion_cbs kthr_owner_cbs;
      |                                    ^~~~~~~~~~~~~~
runtime/defs.h:485:12: error: storage class specified for parameter ‘stat_init_thread’
  485 | extern int stat_init_thread(void);
      |            ^~~~~~~~~~~~~~~~
runtime/defs.h:527:36: error: storage class specified for parameter ‘kthr_stealer_cbs’
  527 | extern struct bkend_completion_cbs kthr_stealer_cbs;
      |                                    ^~~~~~~~~~~~~~~~
runtime/defs.h:486:12: error: storage class specified for parameter ‘net_init_thread’
  486 | extern int net_init_thread(void);
      |            ^~~~~~~~~~~~~~~
runtime/defs.h:487:12: error: storage class specified for parameter ‘smalloc_init_thread’
  487 | extern int smalloc_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~
runtime/defs.h:488:12: error: storage class specified for parameter ‘rmem_init_thread’
  488 | extern int rmem_init_thread(void);
      |            ^~~~~~~~~~~~~~~~
runtime/defs.h:491:12: error: storage class specified for parameter ‘ioqueues_init’
  491 | extern int ioqueues_init(unsigned int threads);
      |            ^~~~~~~~~~~~~
runtime/kfault.c:22:27: error: storage class specified for parameter ‘__cached_mr’
   22 | __thread struct region_t* __cached_mr = NULL;
      |                           ^~~~~~~~~~~
runtime/kfault.c:22:17: error: parameter ‘__cached_mr’ is initialized
   22 | __thread struct region_t* __cached_mr = NULL;
      |                 ^~~~~~~~
runtime/defs.h:492:12: error: storage class specified for parameter ‘stack_init’
  492 | extern int stack_init(void);
      |            ^~~~~~~~~~
runtime/kfault.c:25:1: error: parameter ‘version’ is initialized
   25 | const char *version = "LINUX_2.6";
      | ^~~~~
runtime/defs.h:493:12: error: storage class specified for parameter ‘sched_init’
  493 | extern int sched_init(void);
      |            ^~~~~~~~~~
runtime/kfault.c:26:1: error: parameter ‘name_mapped’ is initialized
   26 | const char *name_mapped = "__vdso_is_page_mapped";
      | ^~~~~
runtime/defs.h:494:12: error: storage class specified for parameter ‘preempt_init’
  494 | extern int preempt_init(void);
      |            ^~~~~~~~~~~~
runtime/kfault.c:27:1: error: parameter ‘name_wp’ is initialized
   27 | const char *name_wp = "__vdso_is_page_mapped_and_wrprotected";
      | ^~~~~
runtime/defs.h:495:12: error: storage class specified for parameter ‘net_init’
  495 | extern int net_init(void);
      |            ^~~~~~~~
runtime/kfault.c:35:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   35 | {
      | ^
runtime/defs.h:496:12: error: storage class specified for parameter ‘arp_init’
  496 | extern int arp_init(void);
      |            ^~~~~~~~
runtime/defs.h:497:12: error: storage class specified for parameter ‘trans_init’
  497 | extern int trans_init(void);
      |            ^~~~~~~~~~
runtime/defs.h:498:12: error: storage class specified for parameter ‘smalloc_init’
  498 | extern int smalloc_init(void);
      |            ^~~~~~~~~~~~
runtime/kfault.c:70:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   70 | {
      | ^
runtime/defs.h:499:12: error: storage class specified for parameter ‘rmem_init’
  499 | extern int rmem_init(void);
      |            ^~~~~~~~~
runtime/defs.h:502:12: error: storage class specified for parameter ‘ioqueues_register_iokernel’
  502 | extern int ioqueues_register_iokernel(void);
      |            ^~~~~~~~~~~~~~~~~~~~~~~~~~
runtime/kfault.c:91:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   91 | {
      | ^
runtime/defs.h:503:12: error: storage class specified for parameter ‘arp_init_late’
  503 | extern int arp_init_late(void);
      |            ^~~~~~~~~~~~~
runtime/defs.h:504:12: error: storage class specified for parameter ‘stat_init_late’
  504 | extern int stat_init_late(void);
      |            ^~~~~~~~~~~~~~
runtime/kfault.c:119:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  119 | {
      | ^
runtime/defs.h:505:12: error: storage class specified for parameter ‘tcp_init_late’
  505 | extern int tcp_init_late(void);
      |            ^~~~~~~~~~~~~
runtime/defs.h:506:12: error: storage class specified for parameter ‘rcu_init_late’
  506 | extern int rcu_init_late(void);
      |            ^~~~~~~~~~~~~
runtime/kfault.c:137:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  137 | {
      | ^
runtime/defs.h:507:12: error: storage class specified for parameter ‘rmem_init_late’
  507 | extern int rmem_init_late(void);
      |            ^~~~~~~~~~~~~~
runtime/defs.h:510:12: error: storage class specified for parameter ‘cfg_load’
  510 | extern int cfg_load(const char *path);
      |            ^~~~~~~~
runtime/kfault.c:152:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  152 | {
      | ^
runtime/defs.h:513:13: error: storage class specified for parameter ‘sched_start’
  513 | extern void sched_start(void) __noreturn;
      |             ^~~~~~~~~~~
runtime/kfault.c:180:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  180 | {
      | ^
runtime/defs.h:514:12: error: storage class specified for parameter ‘thread_spawn_main’
  514 | extern int thread_spawn_main(thread_fn_t fn, void *arg);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:515:13: error: storage class specified for parameter ‘thread_yield_kthread’
  515 | extern void thread_yield_kthread();
      |             ^~~~~~~~~~~~~~~~~~~~
runtime/defs.h:516:13: error: storage class specified for parameter ‘join_kthread’
  516 | extern void join_kthread(struct kthread *k);
      |             ^~~~~~~~~~~~
runtime/kfault.c:208:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  208 | {
      | ^
runtime/defs.h:519:13: error: storage class specified for parameter ‘thread_ready_preempt_off’
  519 | extern void thread_ready_preempt_off(thread_t *thread);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:520:13: error: storage class specified for parameter ‘thread_ready_safe’
  520 | extern void thread_ready_safe(struct kthread *k, thread_t *th);
      |             ^~~~~~~~~~~~~~~~~
runtime/defs.h:521:13: error: storage class specified for parameter ‘faulted_thread_ready_preempt_off’
  521 | extern void faulted_thread_ready_preempt_off(thread_t *th);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:522:13: error: storage class specified for parameter ‘faulted_thread_ready_safe’
  522 | extern void faulted_thread_ready_safe(struct kthread *k, thread_t *th);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~
runtime/kfault.c:257:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  257 | {
      | ^
runtime/defs.h:525:13: error: storage class specified for parameter ‘rmem_hints_enabled’
  525 | extern bool rmem_hints_enabled;
      |             ^~~~~~~~~~~~~~~~~~
runtime/defs.h:526:36: error: storage class specified for parameter ‘kthr_owner_cbs’
  526 | extern struct bkend_completion_cbs kthr_owner_cbs;
      |                                    ^~~~~~~~~~~~~~
runtime/defs.h:527:36: error: storage class specified for parameter ‘kthr_stealer_cbs’
  527 | extern struct bkend_completion_cbs kthr_stealer_cbs;
      |                                    ^~~~~~~~~~~~~~~~
runtime/kfault.c:272:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  272 | {
      | ^
runtime/rmem.c:22:1: error: parameter ‘rmem_hints_enabled’ is initialized
   22 | bool rmem_hints_enabled = false;
      | ^~~~
runtime/rmem.c:22:6: error: redefinition of parameter ‘rmem_hints_enabled’
   22 | bool rmem_hints_enabled = false;
      |      ^~~~~~~~~~~~~~~~~~
runtime/kfault.c:326:8: error: parameter ‘kthr_owner_cbs’ is initialized
  326 | struct bkend_completion_cbs kthr_owner_cbs = {
      |        ^~~~~~~~~~~~~~~~~~~~
In file included from runtime/rmem.c:19:
runtime/defs.h:525:13: note: previous definition of ‘rmem_hints_enabled’ was here
  525 | extern bool rmem_hints_enabled;
      |             ^~~~~~~~~~~~~~~~~~
runtime/kfault.c:326:29: error: redefinition of parameter ‘kthr_owner_cbs’
  326 | struct bkend_completion_cbs kthr_owner_cbs = {
      |                             ^~~~~~~~~~~~~~
runtime/rmem.c:28:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   28 | {
      | ^
In file included from runtime/kfault.c:19:
runtime/defs.h:526:36: note: previous definition of ‘kthr_owner_cbs’ was here
  526 | extern struct bkend_completion_cbs kthr_owner_cbs;
      |                                    ^~~~~~~~~~~~~~
runtime/rmem.c:62:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   62 | {
      | ^
runtime/kfault.c:332:8: error: parameter ‘kthr_stealer_cbs’ is initialized
  332 | struct bkend_completion_cbs kthr_stealer_cbs = {
      |        ^~~~~~~~~~~~~~~~~~~~
runtime/kfault.c:332:29: error: redefinition of parameter ‘kthr_stealer_cbs’
  332 | struct bkend_completion_cbs kthr_stealer_cbs = {
      |                             ^~~~~~~~~~~~~~~~
In file included from runtime/kfault.c:19:
runtime/defs.h:527:36: note: previous definition of ‘kthr_stealer_cbs’ was here
  527 | extern struct bkend_completion_cbs kthr_stealer_cbs;
      |                                    ^~~~~~~~~~~~~~~~
runtime/rmem.c:86:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   86 | {
      | ^
runtime/rmem.c:100:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  100 | {
      | ^
In file included from runtime/rmem.c:17:
./inc/runtime/pgfault.h:174:20: error: old-style parameter declarations in prototyped function definition
  174 | static inline bool __is_fault_pending(void* address, bool write,
      |                    ^~~~~~~~~~~~~~~~~~
runtime/rmem.c:103: error: expected ‘{’ at end of input
  103 | }
      | 
runtime/rmem.c:103:1: warning: no return statement in function returning non-void [-Wreturn-type]
  103 | }
      | ^
runtime/rmem.c: In function ‘__is_fault_pending_eden’:
runtime/rmem.c:103:1: error: expected declaration or statement at end of input
make: *** [Makefile:246: runtime/softirq.o] Error 1
make: *** [Makefile:246: runtime/rmem.o] Error 1
runtime/kfault.c:333:24: error: ‘kthr_fault_read_steal_done’ undeclared (first use in this function); did you mean ‘kthr_fault_read_done’?
  333 |     .read_completion = kthr_fault_read_steal_done,
      |                        ^~~~~~~~~~~~~~~~~~~~~~~~~~
      |                        kthr_fault_read_done
In file included from runtime/kfault.c:16:
./inc/runtime/pgfault.h:174:20: error: old-style parameter declarations in prototyped function definition
  174 | static inline bool __is_fault_pending(void* address, bool write,
      |                    ^~~~~~~~~~~~~~~~~~
runtime/kfault.c:335: error: expected ‘{’ at end of input
  335 | };
      | 
runtime/kfault.c:335:1: warning: no return statement in function returning non-void [-Wreturn-type]
  335 | };
      | ^
runtime/kfault.c: In function ‘__is_fault_pending_eden’:
runtime/kfault.c:335:1: error: expected declaration or statement at end of input
make: *** [Makefile:246: runtime/kfault.o] Error 1
In file included from runtime/sched.c:19:
./inc/runtime/pgfault.h: In function ‘__is_fault_pending_eden’:
./inc/runtime/pgfault.h:105:7: error: ‘to’ undeclared (first use in this function); did you mean ‘tm’?
  105 |     * to be accessed. see if eviction wants to use that information */
      |       ^~
      |       tm
./inc/runtime/pgfault.h:105:7: note: each undeclared identifier is reported only once for each function it appears in
./inc/runtime/pgfault.h:105:9: error: expected ‘;’ before ‘be’
  105 |     * to be accessed. see if eviction wants to use that information */
      |         ^~~
      |         ;
./inc/runtime/pgfault.h:174:20: error: invalid storage class for function ‘__is_fault_pending’
  174 | static inline bool __is_fault_pending(void* address, bool write,
      |                    ^~~~~~~~~~~~~~~~~~
./inc/runtime/pgfault.h: In function ‘__is_fault_pending’:
./inc/runtime/pgfault.h:178:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  178 | {
      | ^
In file included from runtime/defs.h:11,
                 from runtime/sched.c:22:
./inc/base/gen.h:12:1: warning: empty declaration
   12 | struct gen_num {
      | ^~~~~~
./inc/base/gen.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
./inc/base/gen.h:30:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   30 | {
      | ^
./inc/base/gen.h:45:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   45 | {
      | ^
./inc/base/gen.h:59:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   59 | {
      | ^
In file included from runtime/defs.h:12,
                 from runtime/sched.c:22:
./inc/base/lrpc.h:15:1: warning: empty declaration
   15 | struct lrpc_msg {
      | ^~~~~~
./inc/base/lrpc.h:28:1: warning: empty declaration
   28 | struct lrpc_chan_out {
      | ^~~~~~
./inc/base/lrpc.h:37:13: error: storage class specified for parameter ‘__lrpc_send’
   37 | extern bool __lrpc_send(struct lrpc_chan_out *chan, uint64_t cmd,
      |             ^~~~~~~~~~~
./inc/base/lrpc.h:50:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   50 | {
      | ^
./inc/base/lrpc.h:76:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   76 | {
      | ^
./inc/base/lrpc.h:90:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   90 | {
      | ^
./inc/base/lrpc.h:101:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  101 | {
      | ^
./inc/base/lrpc.h:106:12: error: storage class specified for parameter ‘lrpc_init_out’
  106 | extern int lrpc_init_out(struct lrpc_chan_out *chan, struct lrpc_msg *tbl,
      |            ^~~~~~~~~~~~~
./inc/base/lrpc.h:114:1: warning: empty declaration
  114 | struct lrpc_chan_in {
      | ^~~~~~
./inc/base/lrpc.h:131:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  131 | {
      | ^
./inc/base/lrpc.h:153:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  153 | {
      | ^
./inc/base/lrpc.h:160:12: error: storage class specified for parameter ‘lrpc_init_in’
  160 | extern int lrpc_init_in(struct lrpc_chan_in *chan, struct lrpc_msg *tbl,
      |            ^~~~~~~~~~~~
In file included from runtime/defs.h:15,
                 from runtime/sched.c:22:
./inc/net/ethernet.h:21:1: warning: empty declaration
   21 | struct eth_addr {
      | ^~~~~~
./inc/net/ethernet.h:28:30: error: storage class specified for parameter ‘eth_addr_broadcast’
   28 | static const struct eth_addr eth_addr_broadcast = ETH_ADDR_BROADCAST;
      |                              ^~~~~~~~~~~~~~~~~~
./inc/net/ethernet.h:28:21: error: parameter ‘eth_addr_broadcast’ is initialized
   28 | static const struct eth_addr eth_addr_broadcast = ETH_ADDR_BROADCAST;
      |                     ^~~~~~~~
./inc/net/ethernet.h:31:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   31 | {
      | ^
./inc/net/ethernet.h:42:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   42 | {
      | ^
./inc/net/ethernet.h:50:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   50 | {
      | ^
./inc/net/ethernet.h:55:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   55 | {
      | ^
./inc/net/ethernet.h:66:1: warning: empty declaration
   66 | struct eth_hdr {
      | ^~~~~~
In file included from ./inc/net/ip.h:37,
                 from runtime/defs.h:16,
                 from runtime/sched.c:22:
./inc/base/byteorder.h:11:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   11 | {
      | ^
./inc/base/byteorder.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
./inc/base/byteorder.h:33:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   33 | {
      | ^
In file included from runtime/defs.h:16,
                 from runtime/sched.c:22:
./inc/net/ip.h:52:14: error: storage class specified for parameter ‘ip_addr_to_str’
   52 | extern char *ip_addr_to_str(uint32_t addr, char *str);
      |              ^~~~~~~~~~~~~~
./inc/net/ip.h:57:1: warning: empty declaration
   57 | struct ip_hdr {
      | ^~~~~~
./inc/net/ip.h:174:1: warning: empty declaration
  174 | struct ip_timestamp {
      | ^~~~~~
./inc/net/ip.h:223:1: warning: empty declaration
  223 | struct ip_pseudo {
      | ^~~~~~
In file included from ./inc/iokernel/control.h:10,
                 from runtime/defs.h:17,
                 from runtime/sched.c:22:
./inc/iokernel/shm.h:22:19: error: storage class specified for parameter ‘shmptr_t’
   22 | typedef uintptr_t shmptr_t;
      |                   ^~~~~~~~
./inc/iokernel/shm.h:27:1: warning: empty declaration
   27 | struct shm_region {
      | ^~~~~~
./inc/iokernel/shm.h:41:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘ptr_to_shmptr’
   41 | ptr_to_shmptr(struct shm_region *r, void *ptr, size_t len)
      | ^~~~~~~~~~~~~
./inc/iokernel/shm.h:58:37: error: expected declaration specifiers or ‘...’ before ‘shmptr_t’
   58 | shmptr_to_ptr(struct shm_region *r, shmptr_t shmptr, size_t len)
      |                                     ^~~~~~~~
./inc/iokernel/shm.h:73:2: error: expected specifier-qualifier-list before ‘shmptr_t’
   73 |  shmptr_t next;
      |  ^~~~~~~~
./inc/iokernel/shm.h:71:1: warning: empty declaration
   71 | struct shm_chain {
      | ^~~~~~
In file included from ./inc/base/stddef.h:12,
                 from runtime/sched.c:9:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
./inc/iokernel/shm.h:77:1: note: in expansion of macro ‘BUILD_ASSERT’
   77 | BUILD_ASSERT(sizeof(struct shm_chain) <= CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
In file included from ./inc/iokernel/control.h:10,
                 from runtime/defs.h:17,
                 from runtime/sched.c:22:
./inc/iokernel/shm.h:89:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   89 | {
      | ^
./inc/iokernel/shm.h:103:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  103 | {
      | ^
./inc/iokernel/shm.h:116:2: error: expected specifier-qualifier-list before ‘shmptr_t’
  116 |  shmptr_t  msg_buf;
      |  ^~~~~~~~
./inc/iokernel/shm.h:114:1: warning: empty declaration
  114 | struct queue_spec {
      | ^~~~~~
./inc/iokernel/shm.h:122:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  122 | {
      | ^
./inc/iokernel/shm.h:140:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  140 | {
      | ^
./inc/iokernel/shm.h:163:54: error: expected declaration specifiers or ‘...’ before ‘shmptr_t’
  163 | static inline int shm_init_gen(struct shm_region *r, shmptr_t gen_ptr,
      |                                                      ^~~~~~~~
In file included from runtime/defs.h:17,
                 from runtime/sched.c:22:
./inc/iokernel/control.h:17:1: warning: empty declaration
   17 | struct q_ptrs {
      | ^~~~~~
./inc/iokernel/control.h:29:2: error: expected specifier-qualifier-list before ‘shmptr_t’
   29 |  shmptr_t  q_ptrs;
      |  ^~~~~~~~
./inc/iokernel/control.h:24:1: warning: empty declaration
   24 | struct thread_spec {
      | ^~~~~~
./inc/iokernel/control.h:34:1: warning: empty declaration
   34 | enum {
      | ^~~~
./inc/iokernel/control.h:41:1: warning: empty declaration
   41 | struct sched_spec {
      | ^~~~~~
./inc/iokernel/control.h:52:1: warning: empty declaration
   52 | struct control_hdr {
      | ^~~~~~
In file included from ./inc/net/mbuf.h:16,
                 from ./inc/net/mbufq.h:7,
                 from runtime/defs.h:18,
                 from runtime/sched.c:22:
./inc/iokernel/queue.h:10:1: warning: empty declaration
   10 | struct rx_net_hdr {
      | ^~~~~~
./inc/iokernel/queue.h:20:1: warning: empty declaration
   20 | struct tx_net_hdr {
      | ^~~~~~
./inc/iokernel/queue.h:29:1: warning: empty declaration
   29 | enum {
      | ^~~~
./inc/iokernel/queue.h:59:1: warning: empty declaration
   59 | enum {
      | ^~~~
./inc/iokernel/queue.h:71:1: warning: empty declaration
   71 | enum {
      | ^~~~
./inc/iokernel/queue.h:82:1: warning: empty declaration
   82 | enum {
      | ^~~~
In file included from ./inc/net/mbufq.h:7,
                 from runtime/defs.h:18,
                 from runtime/sched.c:22:
./inc/net/mbuf.h:22:1: warning: empty declaration
   22 | struct mbuf {
      | ^~~~~~
./inc/net/mbuf.h:51:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   51 | {
      | ^
./inc/net/mbuf.h:66:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   66 | {
      | ^
./inc/net/mbuf.h:80:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   80 | {
      | ^
./inc/net/mbuf.h:92:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   92 | {
      | ^
./inc/net/mbuf.h:107:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  107 | {
      | ^
./inc/net/mbuf.h:122:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  122 | {
      | ^
./inc/net/mbuf.h:134:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  134 | {
      | ^
./inc/net/mbuf.h:146:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  146 | {
      | ^
./inc/net/mbuf.h:155:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  155 | {
      | ^
./inc/net/mbuf.h:164:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  164 | {
      | ^
./inc/net/mbuf.h:173:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  173 | {
      | ^
./inc/net/mbuf.h:201:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  201 | {
      | ^
./inc/net/mbuf.h:212:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  212 | {
      | ^
./inc/net/mbuf.h:223:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  223 | {
      | ^
./inc/net/mbuf.h:232:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  232 | {
      | ^
./inc/net/mbuf.h:251:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  251 | {
      | ^
./inc/net/mbuf.h:264:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  264 | {
      | ^
./inc/net/mbuf.h:268:21: error: storage class specified for parameter ‘mbuf_clone’
  268 | extern struct mbuf *mbuf_clone(struct mbuf *dst, struct mbuf *src);
      |                     ^~~~~~~~~~
In file included from runtime/defs.h:18,
                 from runtime/sched.c:22:
./inc/net/mbufq.h:9:1: warning: empty declaration
    9 | struct mbuf;
      | ^~~~~~
./inc/net/mbufq.h:11:1: warning: empty declaration
   11 | struct mbufq {
      | ^~~~~~
./inc/net/mbufq.h:21:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   21 | {
      | ^
./inc/net/mbufq.h:38:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   38 | {
      | ^
./inc/net/mbufq.h:53:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   53 | {
      | ^
./inc/net/mbufq.h:63:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   63 | {
      | ^
./inc/net/mbufq.h:78:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   78 | {
      | ^
./inc/net/mbufq.h:87:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   87 | {
      | ^
./inc/net/mbufq.h:102:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  102 | {
      | ^
In file included from runtime/defs.h:23,
                 from runtime/sched.c:22:
./inc/runtime/rcu.h:16:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   16 | {
      | ^
./inc/runtime/rcu.h:25:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   25 | {
      | ^
./inc/runtime/rcu.h:33:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   33 | {
      | ^
./inc/runtime/rcu.h:108:1: warning: empty declaration
  108 | struct rcu_head;
      | ^~~~~~
./inc/runtime/rcu.h:109:16: error: storage class specified for parameter ‘rcu_callback_t’
  109 | typedef void (*rcu_callback_t)(struct rcu_head *head);
      |                ^~~~~~~~~~~~~~
./inc/runtime/rcu.h:113:2: error: expected specifier-qualifier-list before ‘rcu_callback_t’
  113 |  rcu_callback_t func;
      |  ^~~~~~~~~~~~~~
./inc/runtime/rcu.h:111:1: warning: empty declaration
  111 | struct rcu_head {
      | ^~~~~~
./inc/runtime/rcu.h:116:45: error: expected declaration specifiers or ‘...’ before ‘rcu_callback_t’
  116 | extern void rcu_free(struct rcu_head *head, rcu_callback_t func);
      |                                             ^~~~~~~~~~~~~~
./inc/runtime/rcu.h:117:13: error: storage class specified for parameter ‘synchronize_rcu’
  117 | extern void synchronize_rcu(void);
      |             ^~~~~~~~~~~~~~~
In file included from ./inc/base/stddef.h:12,
                 from runtime/sched.c:9:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:42:1: note: in expansion of macro ‘BUILD_ASSERT’
   42 | BUILD_ASSERT(RUNTIME_VISIT_US <= RUNTIME_WATCHDOG_US);
      | ^~~~~~~~~~~~
In file included from runtime/sched.c:22:
runtime/defs.h:53:1: warning: empty declaration
   53 | struct thread_tf {
      | ^~~~~~
runtime/defs.h:90:1: warning: empty declaration
   90 | enum {
      | ^~~~
runtime/defs.h:96:1: warning: empty declaration
   96 | struct stack;
      | ^~~~~~
runtime/defs.h:98:1: warning: empty declaration
   98 | struct thread {
      | ^~~~~~
runtime/defs.h:107:16: error: storage class specified for parameter ‘runtime_fn_t’
  107 | typedef void (*runtime_fn_t)(void);
      |                ^~~~~~~~~~~~
runtime/defs.h:110:13: error: storage class specified for parameter ‘__jmp_thread’
  110 | extern void __jmp_thread(struct thread_tf *tf) __noreturn;
      |             ^~~~~~~~~~~~
runtime/defs.h:111:13: error: storage class specified for parameter ‘__jmp_thread_direct’
  111 | extern void __jmp_thread_direct(struct thread_tf *oldtf,
      |             ^~~~~~~~~~~~~~~~~~~
runtime/defs.h:114:49: error: expected declaration specifiers or ‘...’ before ‘runtime_fn_t’
  114 | extern void __jmp_runtime(struct thread_tf *tf, runtime_fn_t fn,
      |                                                 ^~~~~~~~~~~~
runtime/defs.h:116:34: error: expected declaration specifiers or ‘...’ before ‘runtime_fn_t’
  116 | extern void __jmp_runtime_nosave(runtime_fn_t fn, void *stack) __noreturn;
      |                                  ^~~~~~~~~~~~
runtime/defs.h:126:1: warning: empty declaration
  126 | struct stack {
      | ^~~~~~
In file included from ./inc/base/slab.h:9,
                 from runtime/sched.c:15:
./inc/base/thread.h:16:19: error: storage class specified for parameter ‘__perthread_stack_pt’
   16 |  __typeof__(type) __perthread_##name __perthread \
      |                   ^~~~~~~~~~~~
./inc/base/thread.h:21:9: note: in expansion of macro ‘DEFINE_PERTHREAD’
   21 |  extern DEFINE_PERTHREAD(type, name)
      |         ^~~~~~~~~~~~~~~~
runtime/defs.h:131:1: note: in expansion of macro ‘DECLARE_PERTHREAD’
  131 | DECLARE_PERTHREAD(struct tcache_perthread, stack_pt);
      | ^~~~~~~~~~~~~~~~~
./inc/base/thread.h:16:19: error: section attribute not allowed for ‘__perthread_stack_pt’
   16 |  __typeof__(type) __perthread_##name __perthread \
      |                   ^~~~~~~~~~~~
./inc/base/thread.h:21:9: note: in expansion of macro ‘DEFINE_PERTHREAD’
   21 |  extern DEFINE_PERTHREAD(type, name)
      |         ^~~~~~~~~~~~~~~~
runtime/defs.h:131:1: note: in expansion of macro ‘DECLARE_PERTHREAD’
  131 | DECLARE_PERTHREAD(struct tcache_perthread, stack_pt);
      | ^~~~~~~~~~~~~~~~~
In file included from runtime/sched.c:22:
runtime/defs.h:141:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  141 | {
      | ^
runtime/defs.h:150:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  150 | {
      | ^
runtime/defs.h:157:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  157 | {
      | ^
runtime/defs.h:176:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  176 | {
      | ^
runtime/defs.h:198:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  198 | {
      | ^
In file included from runtime/sched.c:10:
runtime/defs.h:217:18: error: storage class specified for parameter ‘qlock’
  217 | DECLARE_SPINLOCK(qlock);
      |                  ^~~~~
./inc/base/lock.h:12:50: note: in definition of macro ‘DECLARE_SPINLOCK’
   12 | #define DECLARE_SPINLOCK(name) extern spinlock_t name
      |                                                  ^~~~
In file included from runtime/sched.c:22:
runtime/defs.h:218:21: error: storage class specified for parameter ‘nrqs’
  218 | extern unsigned int nrqs;
      |                     ^~~~
runtime/defs.h:223:2: error: expected specifier-qualifier-list before ‘shmptr_t’
  223 |  shmptr_t next_free;
      |  ^~~~~~~~
runtime/defs.h:220:1: warning: empty declaration
  220 | struct iokernel_control {
      | ^~~~~~
runtime/defs.h:230:32: error: storage class specified for parameter ‘iok’
  230 | extern struct iokernel_control iok;
      |                                ^~~
runtime/defs.h:245:1: warning: empty declaration
  245 | enum {
      | ^~~~
runtime/defs.h:273:1: warning: empty declaration
  273 | struct timer_idx;
      | ^~~~~~
runtime/defs.h:275:1: warning: empty declaration
  275 | struct kthread {
      | ^~~~~~
In file included from ./inc/base/stddef.h:12,
                 from runtime/sched.c:9:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:332:1: note: in expansion of macro ‘BUILD_ASSERT’
  332 | BUILD_ASSERT(offsetof(struct kthread, lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:333:1: note: in expansion of macro ‘BUILD_ASSERT’
  333 | BUILD_ASSERT(offsetof(struct kthread, rxq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:334:1: note: in expansion of macro ‘BUILD_ASSERT’
  334 | BUILD_ASSERT(offsetof(struct kthread, q_ptrs) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:335:1: note: in expansion of macro ‘BUILD_ASSERT’
  335 | BUILD_ASSERT(offsetof(struct kthread, txpktq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:336:1: note: in expansion of macro ‘BUILD_ASSERT’
  336 | BUILD_ASSERT(offsetof(struct kthread, rq) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:337:1: note: in expansion of macro ‘BUILD_ASSERT’
  337 | BUILD_ASSERT(offsetof(struct kthread, timer_lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:338:1: note: in expansion of macro ‘BUILD_ASSERT’
  338 | BUILD_ASSERT(offsetof(struct kthread, pf_lock) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:339:1: note: in expansion of macro ‘BUILD_ASSERT’
  339 | BUILD_ASSERT(offsetof(struct kthread, stats) % CACHE_LINE_SIZE == 0);
      | ^~~~~~~~~~~~
In file included from runtime/sched.c:22:
runtime/defs.h:341:33: error: storage class specified for parameter ‘mykthread’
  341 | extern __thread struct kthread *mykthread;
      |                                 ^~~~~~~~~
runtime/defs.h:342:21: error: storage class specified for parameter ‘my_kthr_id’
  342 | extern __thread int my_kthr_id;
      |                     ^~~~~~~~~~
runtime/defs.h:348:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  348 | {
      | ^
runtime/defs.h:359:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  359 | {
      | ^
runtime/defs.h:368:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  368 | {
      | ^
In file included from runtime/sched.c:10:
runtime/defs.h:372:18: error: storage class specified for parameter ‘klock’
  372 | DECLARE_SPINLOCK(klock);
      |                  ^~~~~
./inc/base/lock.h:12:50: note: in definition of macro ‘DECLARE_SPINLOCK’
   12 | #define DECLARE_SPINLOCK(name) extern spinlock_t name
      |                                                  ^~~~
In file included from runtime/sched.c:22:
runtime/defs.h:373:21: error: storage class specified for parameter ‘maxks’
  373 | extern unsigned int maxks;
      |                     ^~~~~
runtime/defs.h:374:21: error: storage class specified for parameter ‘spinks’
  374 | extern unsigned int spinks;
      |                     ^~~~~~
runtime/defs.h:375:21: error: storage class specified for parameter ‘guaranteedks’
  375 | extern unsigned int guaranteedks;
      |                     ^~~~~~~~~~~~
runtime/defs.h:376:21: error: storage class specified for parameter ‘nrks’
  376 | extern unsigned int nrks;
      |                     ^~~~
runtime/defs.h:377:24: error: storage class specified for parameter ‘ks’
  377 | extern struct kthread *ks[NCPU];
      |                        ^~
runtime/defs.h:378:24: error: storage class specified for parameter ‘allks’
  378 | extern struct kthread *allks[NCPU];
      |                        ^~~~~
runtime/defs.h:380:13: error: storage class specified for parameter ‘kthread_detach’
  380 | extern void kthread_detach(struct kthread *r);
      |             ^~~~~~~~~~~~~~
runtime/defs.h:381:13: error: storage class specified for parameter ‘kthread_park’
  381 | extern void kthread_park(bool voluntary);
      |             ^~~~~~~~~~~~
runtime/defs.h:382:13: error: storage class specified for parameter ‘kthread_wait_to_attach’
  382 | extern void kthread_wait_to_attach(void);
      |             ^~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:384:1: warning: empty declaration
  384 | struct cpu_record {
      | ^~~~~~
In file included from ./inc/base/stddef.h:12,
                 from runtime/sched.c:9:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:390:1: note: in expansion of macro ‘BUILD_ASSERT’
  390 | BUILD_ASSERT(sizeof(struct cpu_record) == CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
In file included from runtime/sched.c:22:
runtime/defs.h:392:26: error: storage class specified for parameter ‘cpu_map’
  392 | extern struct cpu_record cpu_map[NCPU];
      |                          ^~~~~~~
runtime/defs.h:416:13: error: storage class specified for parameter ‘disable_watchdog’
  416 | extern bool disable_watchdog;
      |             ^~~~~~~~~~~~~~~~
runtime/defs.h:418:18: error: storage class specified for parameter ‘softirq_run_thread’
  418 | extern thread_t *softirq_run_thread(struct kthread *k, unsigned int budget);
      |                  ^~~~~~~~~~~~~~~~~~
runtime/defs.h:419:13: error: storage class specified for parameter ‘softirq_run’
  419 | extern void softirq_run(unsigned int budget);
      |             ^~~~~~~~~~~
runtime/defs.h:426:1: warning: empty declaration
  426 | struct net_cfg {
      | ^~~~~~
In file included from ./inc/base/stddef.h:12,
                 from runtime/sched.c:9:
./inc/base/assert.h:116:2: error: expected declaration specifiers before ‘_Static_assert’
  116 |  _Static_assert(cond, "build-time condition failed")
      |  ^~~~~~~~~~~~~~
runtime/defs.h:436:1: note: in expansion of macro ‘BUILD_ASSERT’
  436 | BUILD_ASSERT(sizeof(struct net_cfg) == CACHE_LINE_SIZE);
      | ^~~~~~~~~~~~
In file included from runtime/sched.c:22:
runtime/defs.h:438:23: error: storage class specified for parameter ‘netcfg’
  438 | extern struct net_cfg netcfg;
      |                       ^~~~~~
runtime/defs.h:441:1: warning: empty declaration
  441 | struct cfg_arp_static_entry {
      | ^~~~~~
runtime/defs.h:445:12: error: storage class specified for parameter ‘arp_static_count’
  445 | extern int arp_static_count;
      |            ^~~~~~~~~~~~~~~~
runtime/defs.h:446:36: error: storage class specified for parameter ‘static_entries’
  446 | extern struct cfg_arp_static_entry static_entries[MAX_ARP_STATIC_ENTRIES];
      |                                    ^~~~~~~~~~~~~~
runtime/defs.h:448:13: error: storage class specified for parameter ‘__net_recurrent’
  448 | extern void __net_recurrent(void);
      |             ^~~~~~~~~~~~~~~
runtime/defs.h:449:13: error: storage class specified for parameter ‘net_rx_softirq’
  449 | extern void net_rx_softirq(struct rx_net_hdr **hdrs, unsigned int nr);
      |             ^~~~~~~~~~~~~~
runtime/defs.h:456:13: error: storage class specified for parameter ‘timer_softirq’
  456 | extern void timer_softirq(struct kthread *k, unsigned int budget);
      |             ^~~~~~~~~~~~~
runtime/defs.h:457:13: error: storage class specified for parameter ‘timer_merge’
  457 | extern void timer_merge(struct kthread *r);
      |             ^~~~~~~~~~~
runtime/defs.h:458:17: error: storage class specified for parameter ‘timer_earliest_deadline’
  458 | extern uint64_t timer_earliest_deadline(void);
      |                 ^~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:460:1: warning: empty declaration
  460 | struct timer_idx {
      | ^~~~~~
runtime/defs.h:470:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  470 | {
      | ^
runtime/defs.h:480:12: error: storage class specified for parameter ‘kthread_init_thread’
  480 | extern int kthread_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~
runtime/defs.h:481:12: error: storage class specified for parameter ‘ioqueues_init_thread’
  481 | extern int ioqueues_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~~
runtime/defs.h:482:12: error: storage class specified for parameter ‘stack_init_thread’
  482 | extern int stack_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:483:12: error: storage class specified for parameter ‘timer_init_thread’
  483 | extern int timer_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:484:12: error: storage class specified for parameter ‘sched_init_thread’
  484 | extern int sched_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:485:12: error: storage class specified for parameter ‘stat_init_thread’
  485 | extern int stat_init_thread(void);
      |            ^~~~~~~~~~~~~~~~
runtime/defs.h:486:12: error: storage class specified for parameter ‘net_init_thread’
  486 | extern int net_init_thread(void);
      |            ^~~~~~~~~~~~~~~
runtime/defs.h:487:12: error: storage class specified for parameter ‘smalloc_init_thread’
  487 | extern int smalloc_init_thread(void);
      |            ^~~~~~~~~~~~~~~~~~~
runtime/defs.h:488:12: error: storage class specified for parameter ‘rmem_init_thread’
  488 | extern int rmem_init_thread(void);
      |            ^~~~~~~~~~~~~~~~
runtime/defs.h:491:12: error: storage class specified for parameter ‘ioqueues_init’
  491 | extern int ioqueues_init(unsigned int threads);
      |            ^~~~~~~~~~~~~
runtime/defs.h:492:12: error: storage class specified for parameter ‘stack_init’
  492 | extern int stack_init(void);
      |            ^~~~~~~~~~
runtime/defs.h:493:12: error: storage class specified for parameter ‘sched_init’
  493 | extern int sched_init(void);
      |            ^~~~~~~~~~
runtime/defs.h:494:12: error: storage class specified for parameter ‘preempt_init’
  494 | extern int preempt_init(void);
      |            ^~~~~~~~~~~~
runtime/defs.h:495:12: error: storage class specified for parameter ‘net_init’
  495 | extern int net_init(void);
      |            ^~~~~~~~
runtime/defs.h:496:12: error: storage class specified for parameter ‘arp_init’
  496 | extern int arp_init(void);
      |            ^~~~~~~~
runtime/defs.h:497:12: error: storage class specified for parameter ‘trans_init’
  497 | extern int trans_init(void);
      |            ^~~~~~~~~~
runtime/defs.h:498:12: error: storage class specified for parameter ‘smalloc_init’
  498 | extern int smalloc_init(void);
      |            ^~~~~~~~~~~~
runtime/defs.h:499:12: error: storage class specified for parameter ‘rmem_init’
  499 | extern int rmem_init(void);
      |            ^~~~~~~~~
runtime/defs.h:502:12: error: storage class specified for parameter ‘ioqueues_register_iokernel’
  502 | extern int ioqueues_register_iokernel(void);
      |            ^~~~~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:503:12: error: storage class specified for parameter ‘arp_init_late’
  503 | extern int arp_init_late(void);
      |            ^~~~~~~~~~~~~
runtime/defs.h:504:12: error: storage class specified for parameter ‘stat_init_late’
  504 | extern int stat_init_late(void);
      |            ^~~~~~~~~~~~~~
runtime/defs.h:505:12: error: storage class specified for parameter ‘tcp_init_late’
  505 | extern int tcp_init_late(void);
      |            ^~~~~~~~~~~~~
runtime/defs.h:506:12: error: storage class specified for parameter ‘rcu_init_late’
  506 | extern int rcu_init_late(void);
      |            ^~~~~~~~~~~~~
runtime/defs.h:507:12: error: storage class specified for parameter ‘rmem_init_late’
  507 | extern int rmem_init_late(void);
      |            ^~~~~~~~~~~~~~
runtime/defs.h:510:12: error: storage class specified for parameter ‘cfg_load’
  510 | extern int cfg_load(const char *path);
      |            ^~~~~~~~
runtime/defs.h:513:13: error: storage class specified for parameter ‘sched_start’
  513 | extern void sched_start(void) __noreturn;
      |             ^~~~~~~~~~~
runtime/defs.h:514:12: error: storage class specified for parameter ‘thread_spawn_main’
  514 | extern int thread_spawn_main(thread_fn_t fn, void *arg);
      |            ^~~~~~~~~~~~~~~~~
runtime/defs.h:515:13: error: storage class specified for parameter ‘thread_yield_kthread’
  515 | extern void thread_yield_kthread();
      |             ^~~~~~~~~~~~~~~~~~~~
runtime/defs.h:516:13: error: storage class specified for parameter ‘join_kthread’
  516 | extern void join_kthread(struct kthread *k);
      |             ^~~~~~~~~~~~
runtime/defs.h:519:13: error: storage class specified for parameter ‘thread_ready_preempt_off’
  519 | extern void thread_ready_preempt_off(thread_t *thread);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:520:13: error: storage class specified for parameter ‘thread_ready_safe’
  520 | extern void thread_ready_safe(struct kthread *k, thread_t *th);
      |             ^~~~~~~~~~~~~~~~~
runtime/defs.h:521:13: error: storage class specified for parameter ‘faulted_thread_ready_preempt_off’
  521 | extern void faulted_thread_ready_preempt_off(thread_t *th);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:522:13: error: storage class specified for parameter ‘faulted_thread_ready_safe’
  522 | extern void faulted_thread_ready_safe(struct kthread *k, thread_t *th);
      |             ^~~~~~~~~~~~~~~~~~~~~~~~~
runtime/defs.h:525:13: error: storage class specified for parameter ‘rmem_hints_enabled’
  525 | extern bool rmem_hints_enabled;
      |             ^~~~~~~~~~~~~~~~~~
runtime/defs.h:526:36: error: storage class specified for parameter ‘kthr_owner_cbs’
  526 | extern struct bkend_completion_cbs kthr_owner_cbs;
      |                                    ^~~~~~~~~~~~~~
runtime/defs.h:527:36: error: storage class specified for parameter ‘kthr_stealer_cbs’
  527 | extern struct bkend_completion_cbs kthr_stealer_cbs;
      |                                    ^~~~~~~~~~~~~~~~
runtime/sched.c:25:20: error: storage class specified for parameter ‘__self’
   25 | __thread thread_t *__self;
      |                    ^~~~~~
runtime/sched.c:27:23: error: storage class specified for parameter ‘runtime_stack’
   27 | static __thread void *runtime_stack;
      |                       ^~~~~~~~~~~~~
runtime/sched.c:29:23: error: storage class specified for parameter ‘runtime_stack_base’
   29 | static __thread void *runtime_stack_base;
      |                       ^~~~~~~~~~~~~~~~~~
runtime/sched.c:32:6: error: redefinition of parameter ‘disable_watchdog’
   32 | bool disable_watchdog;
      |      ^~~~~~~~~~~~~~~~
In file included from runtime/sched.c:22:
runtime/defs.h:416:13: note: previous definition of ‘disable_watchdog’ was here
  416 | extern bool disable_watchdog;
      |             ^~~~~~~~~~~~~~~~
runtime/sched.c:35:20: error: storage class specified for parameter ‘thread_slab’
   35 | static struct slab thread_slab;
      |                    ^~~~~~~~~~~
runtime/sched.c:36:23: error: storage class specified for parameter ‘thread_tcache’
   36 | static struct tcache *thread_tcache;
      |                       ^~~~~~~~~~~~~
In file included from ./inc/base/slab.h:9,
                 from runtime/sched.c:15:
./inc/base/thread.h:16:19: error: storage class specified for parameter ‘__perthread_thread_pt’
   16 |  __typeof__(type) __perthread_##name __perthread \
      |                   ^~~~~~~~~~~~
runtime/sched.c:37:8: note: in expansion of macro ‘DEFINE_PERTHREAD’
   37 | static DEFINE_PERTHREAD(struct tcache_perthread, thread_pt);
      |        ^~~~~~~~~~~~~~~~
./inc/base/thread.h:16:19: error: section attribute not allowed for ‘__perthread_thread_pt’
   16 |  __typeof__(type) __perthread_##name __perthread \
      |                   ^~~~~~~~~~~~
runtime/sched.c:37:8: note: in expansion of macro ‘DEFINE_PERTHREAD’
   37 | static DEFINE_PERTHREAD(struct tcache_perthread, thread_pt);
      |        ^~~~~~~~~~~~~~~~
runtime/sched.c:40:26: error: storage class specified for parameter ‘last_tsc’
   40 | static __thread uint64_t last_tsc;
      |                          ^~~~~~~~
runtime/sched.c:42:26: error: storage class specified for parameter ‘last_watchdog_tsc’
   42 | static __thread uint64_t last_watchdog_tsc;
      |                          ^~~~~~~~~~~~~~~~~
runtime/sched.c:59:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   59 | {
      | ^
runtime/sched.c:84:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
   84 | {
      | ^
runtime/sched.c:109:34: error: expected declaration specifiers or ‘...’ before ‘runtime_fn_t’
  109 | static void jmp_runtime_explicit(runtime_fn_t fn, thread_t *th)
      |                                  ^~~~~~~~~~~~
runtime/sched.c:128:25: error: expected declaration specifiers or ‘...’ before ‘runtime_fn_t’
  128 | static void jmp_runtime(runtime_fn_t fn)
      |                         ^~~~~~~~~~~~
runtime/sched.c:139:43: error: expected declaration specifiers or ‘...’ before ‘runtime_fn_t’
  139 | static __noreturn void jmp_runtime_nosave(runtime_fn_t fn)
      |                                           ^~~~~~~~~~~~
runtime/sched.c:148:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  148 | {
      | ^
runtime/sched.c:170:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  170 | {
      | ^
runtime/sched.c:188:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  188 | {
      | ^
runtime/sched.c:230:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  230 | {
      | ^
runtime/sched.c:251:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  251 | {
      | ^
runtime/sched.c:308:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  308 | {
      | ^
runtime/sched.c:330:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  330 | {
      | ^
runtime/sched.c:394:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  394 | {
      | ^
runtime/sched.c:411:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  411 | {
      | ^
runtime/sched.c:563:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  563 | {
      | ^
runtime/sched.c:615:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  615 | {
      | ^
runtime/sched.c:672:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  672 | {
      | ^
runtime/sched.c:692:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  692 | {
      | ^
runtime/sched.c:710:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  710 | {
      | ^
runtime/sched.c:868:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  868 | {
      | ^
runtime/sched.c:928:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  928 | {
      | ^
runtime/sched.c:960:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  960 | {
      | ^
runtime/sched.c:994:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
  994 | {
      | ^
runtime/sched.c:1018:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1018 | {
      | ^
runtime/sched.c:1040:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1040 | {
      | ^
runtime/sched.c:1047:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1047 | {
      | ^
runtime/sched.c:1071:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1071 | {
      | ^
runtime/sched.c:1078:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1078 | {
      | ^
runtime/sched.c:1112:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1112 | {
      | ^
runtime/sched.c:1135:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1135 | {
      | ^
runtime/sched.c:1159:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1159 | {
      | ^
runtime/sched.c:1177:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1177 | {
      | ^
runtime/sched.c:1193:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1193 | {
      | ^
runtime/sched.c:1211:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1211 | {
      | ^
runtime/sched.c:1222:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1222 | {
      | ^
runtime/sched.c:1241:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1241 | {
      | ^
runtime/sched.c:1248:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1248 | {
      | ^
runtime/sched.c:1258:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1258 | {
      | ^
runtime/sched.c:1279:1: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘{’ token
 1279 | {
      | ^
In file included from runtime/sched.c:19:
./inc/runtime/pgfault.h:174:20: error: old-style parameter declarations in prototyped function definition
  174 | static inline bool __is_fault_pending(void* address, bool write,
      |                    ^~~~~~~~~~~~~~~~~~
runtime/sched.c:1309: error: expected ‘{’ at end of input
 1309 | }
      | 
runtime/sched.c:1309:1: warning: no return statement in function returning non-void [-Wreturn-type]
 1309 | }
      | ^
runtime/sched.c: In function ‘__is_fault_pending_eden’:
runtime/sched.c:1309:1: error: expected declaration or statement at end of input
make: *** [Makefile:246: runtime/sched.o] Error 1
